{"ast":null,"code":"// Actions.js\nimport { fetchCashfreeToken, initiatePayment } from \"./FetchApi\";\nexport const fetchData = async (cartListProduct, dispatch) => {\n  dispatch({\n    type: \"loading\",\n    payload: true\n  });\n  try {\n    const responseData = await cartListProduct();\n    if (responseData && responseData.Products) {\n      setTimeout(function () {\n        dispatch({\n          type: \"cartProduct\",\n          payload: responseData.Products\n        });\n        dispatch({\n          type: \"loading\",\n          payload: false\n        });\n      }, 1000);\n    }\n  } catch (error) {\n    console.error(error);\n  }\n};\nexport const fetchPaymentToken = async setState => {\n  try {\n    await fetchCashfreeToken(setState);\n  } catch (error) {\n    console.error(error);\n  }\n};\nexport const pay = async (data, dispatch, state, setState, totalCost, history) => {\n  if (!state.address) {\n    setState({\n      ...state,\n      error: \"Please provide your address\"\n    });\n  } else if (!state.phone) {\n    setState({\n      ...state,\n      error: \"Please provide your phone number\"\n    });\n  } else {\n    try {\n      const paymentLink = await initiatePayment(data, state);\n      window.location.href = paymentLink;\n    } catch (error) {\n      console.error(error.message);\n      setState({\n        ...state,\n        error: error.message\n      });\n    }\n  }\n};","map":{"version":3,"names":["fetchCashfreeToken","initiatePayment","fetchData","cartListProduct","dispatch","type","payload","responseData","Products","setTimeout","error","console","fetchPaymentToken","setState","pay","data","state","totalCost","history","address","phone","paymentLink","window","location","href","message"],"sources":["D:/gray_projects/tyohaar/frontend/src/components/shop/order/Action.js"],"sourcesContent":["// Actions.js\r\nimport { fetchCashfreeToken, initiatePayment } from \"./FetchApi\";\r\n\r\nexport const fetchData = async (cartListProduct, dispatch) => {\r\n  dispatch({ type: \"loading\", payload: true });\r\n  try {\r\n    const responseData = await cartListProduct();\r\n    if (responseData && responseData.Products) {\r\n      setTimeout(function () {\r\n        dispatch({ type: \"cartProduct\", payload: responseData.Products });\r\n        dispatch({ type: \"loading\", payload: false });\r\n      }, 1000);\r\n    }\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nexport const fetchPaymentToken = async (setState) => {\r\n  try {\r\n    await fetchCashfreeToken(setState);\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nexport const pay = async (\r\n  data,\r\n  dispatch,\r\n  state,\r\n  setState,\r\n  totalCost,\r\n  history\r\n) => {\r\n  if (!state.address) {\r\n    setState({ ...state, error: \"Please provide your address\" });\r\n  } else if (!state.phone) {\r\n    setState({ ...state, error: \"Please provide your phone number\" });\r\n  } else {\r\n    try {\r\n      const paymentLink = await initiatePayment(data, state);\r\n      window.location.href = paymentLink;\r\n    } catch (error) {\r\n      console.error(error.message);\r\n      setState({ ...state, error: error.message });\r\n    }\r\n  }\r\n};\r\n"],"mappings":"AAAA;AACA,SAASA,kBAAkB,EAAEC,eAAe,QAAQ,YAAY;AAEhE,OAAO,MAAMC,SAAS,GAAG,MAAAA,CAAOC,eAAe,EAAEC,QAAQ,KAAK;EAC5DA,QAAQ,CAAC;IAAEC,IAAI,EAAE,SAAS;IAAEC,OAAO,EAAE;EAAK,CAAC,CAAC;EAC5C,IAAI;IACF,MAAMC,YAAY,GAAG,MAAMJ,eAAe,CAAC,CAAC;IAC5C,IAAII,YAAY,IAAIA,YAAY,CAACC,QAAQ,EAAE;MACzCC,UAAU,CAAC,YAAY;QACrBL,QAAQ,CAAC;UAAEC,IAAI,EAAE,aAAa;UAAEC,OAAO,EAAEC,YAAY,CAACC;QAAS,CAAC,CAAC;QACjEJ,QAAQ,CAAC;UAAEC,IAAI,EAAE,SAAS;UAAEC,OAAO,EAAE;QAAM,CAAC,CAAC;MAC/C,CAAC,EAAE,IAAI,CAAC;IACV;EACF,CAAC,CAAC,OAAOI,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;EACtB;AACF,CAAC;AAED,OAAO,MAAME,iBAAiB,GAAG,MAAOC,QAAQ,IAAK;EACnD,IAAI;IACF,MAAMb,kBAAkB,CAACa,QAAQ,CAAC;EACpC,CAAC,CAAC,OAAOH,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;EACtB;AACF,CAAC;AAED,OAAO,MAAMI,GAAG,GAAG,MAAAA,CACjBC,IAAI,EACJX,QAAQ,EACRY,KAAK,EACLH,QAAQ,EACRI,SAAS,EACTC,OAAO,KACJ;EACH,IAAI,CAACF,KAAK,CAACG,OAAO,EAAE;IAClBN,QAAQ,CAAC;MAAE,GAAGG,KAAK;MAAEN,KAAK,EAAE;IAA8B,CAAC,CAAC;EAC9D,CAAC,MAAM,IAAI,CAACM,KAAK,CAACI,KAAK,EAAE;IACvBP,QAAQ,CAAC;MAAE,GAAGG,KAAK;MAAEN,KAAK,EAAE;IAAmC,CAAC,CAAC;EACnE,CAAC,MAAM;IACL,IAAI;MACF,MAAMW,WAAW,GAAG,MAAMpB,eAAe,CAACc,IAAI,EAAEC,KAAK,CAAC;MACtDM,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAGH,WAAW;IACpC,CAAC,CAAC,OAAOX,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAACe,OAAO,CAAC;MAC5BZ,QAAQ,CAAC;QAAE,GAAGG,KAAK;QAAEN,KAAK,EAAEA,KAAK,CAACe;MAAQ,CAAC,CAAC;IAC9C;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}