(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{25:function(e,t,a){e.exports=a(59)},30:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var r=a(0),l=a.n(r),c=a(23),n=a.n(c),s=a(3);a(30);const o=()=>{localStorage.removeItem("jwt"),localStorage.removeItem("cart"),localStorage.removeItem("wishList"),window.location.href="/"};var m=a(1),d=a.n(m);Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_URL;const i=()=>!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt")),p=()=>!!localStorage.getItem("jwt")&&1===JSON.parse(localStorage.getItem("jwt")).user.role;var u=e=>{const t=Object(s.g)(),a=Object(s.h)(),{data:c,dispatch:n}=Object(r.useContext)(S);return l.a.createElement(r.Fragment,null,l.a.createElement("nav",{className:"fixed top-0 w-full z-20 shadow-lg lg:shadow-none bg-white"},l.a.createElement("div",{className:"m-4 md:mx-12 md:my-6 grid grid-cols-4 lg:grid-cols-3"},l.a.createElement("div",{className:"hidden lg:block col-span-1 flex text-gray-600 mt-1"},l.a.createElement("span",{className:"hover:bg-gray-200 px-4 py-3 rounded-lg font-light tracking-widest hover:text-gray-800 cursor-pointer",onClick:e=>t.push("/")},"Shop"),l.a.createElement("span",{className:"hover:bg-gray-200 px-4 py-3 rounded-lg font-light tracking-widest hover:text-gray-800 cursor-pointer",onClick:e=>t.push("/blog")},"Blog"),l.a.createElement("span",{className:"hover:bg-gray-200 px-4 py-3 rounded-lg font-light tracking-widest hover:text-gray-800 cursor-pointer",onClick:e=>t.push("/contact-us")},"Contact us")),l.a.createElement("div",{className:"col-span-2 lg:hidden flex justify-items-stretch\t items-center"},l.a.createElement("svg",{onClick:e=>c.navberHamburger?n({type:"hamburgerToggle",payload:!1}):n({type:"hamburgerToggle",payload:!0}),className:"col-span-1 lg:hidden w-8 h-8 cursor-pointer text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})),l.a.createElement("span",{onClick:e=>t.push("/"),style:{letterSpacing:"0.10rem"},className:"flex items-left text-center font-bold uppercase text-gray-800 text-2xl cursor-pointer px-2 text-center"},"Tyohaar")),l.a.createElement("div",{onClick:e=>t.push("/"),style:{letterSpacing:"0.70rem"},className:"hidden lg:block flex items-left col-span-1 text-center text-gray-800 font-bold tracking-widest uppercase text-2xl cursor-pointer"},"Tyohaar"),l.a.createElement("div",{className:"flex items-right col-span-2 lg:col-span-1 flex justify-end"},l.a.createElement("div",{onClick:e=>t.push("/wish-list"),className:"hover:bg-gray-200 rounded-lg px-2 py-2 cursor-pointer",title:"Wishlist"},l.a.createElement("svg",{className:"".concat("/wish-list"===a.pathname?"fill-current text-gray-800":""," w-8 h-8 text-gray-600 cursor-pointer"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"}))),localStorage.getItem("jwt")?l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"userDropdownBtn hover:bg-gray-200 px-2 py-2 rounded-lg relative",title:"Logout"},l.a.createElement("svg",{className:"cursor-pointer w-8 h-8 text-gray-600 hover:text-gray-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})),l.a.createElement("div",{className:"userDropdown absolute right-0 mt-1 bg-gray-200 rounded"},p()?l.a.createElement(r.Fragment,null,l.a.createElement("li",{className:"flex flex-col text-gray-700 w-48 shadow-lg"},l.a.createElement("span",{onClick:e=>t.push("/admin/dashboard"),className:"flex space-x-2 py-2 px-8 hover:bg-gray-400 cursor-pointer"},l.a.createElement("span",null,l.a.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}))),l.a.createElement("span",null,"Admin Panel")),l.a.createElement("span",{onClick:e=>o(),className:"flex space-x-2 py-2 px-8 hover:bg-gray-400 cursor-pointer"},l.a.createElement("span",null,l.a.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"}))),l.a.createElement("span",null,"Logout")))):l.a.createElement(r.Fragment,null,l.a.createElement("li",{className:"flex flex-col text-gray-700 w-48 shadow-lg"},l.a.createElement("span",{onClick:e=>t.push("/user/orders"),className:"flex space-x-2 py-2 px-8 hover:bg-gray-400 cursor-pointer"},l.a.createElement("span",null,l.a.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))),l.a.createElement("span",null,"My Orders")),l.a.createElement("span",{onClick:e=>t.push("/user/profile"),className:"flex space-x-2 py-2 px-8 hover:bg-gray-400 cursor-pointer"},l.a.createElement("span",null,l.a.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"}))),l.a.createElement("span",null,"My Account")),l.a.createElement("span",{onClick:e=>t.push("/wish-list"),className:"flex space-x-2 py-2 px-8 hover:bg-gray-400 cursor-pointer"},l.a.createElement("span",null,l.a.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"}))),l.a.createElement("span",null,"My Wishlist")),l.a.createElement("span",{onClick:e=>t.push("/user/setting"),className:"flex space-x-1 py-2 px-8 hover:bg-gray-400 cursor-pointer"},l.a.createElement("span",null,l.a.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}))),l.a.createElement("span",null,"Setting")),l.a.createElement("span",{onClick:e=>o(),className:"flex space-x-2 py-2 px-8 hover:bg-gray-400 cursor-pointer"},l.a.createElement("span",null,l.a.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"}))),l.a.createElement("span",null,"Logout"))))))):l.a.createElement("div",{onClick:e=>c.loginSignupModal?n({type:"loginSignupModalToggle",payload:!1}):n({type:"loginSignupModalToggle",payload:!0}),className:"cursor-pointer hover:bg-gray-200 px-2 py-2 rounded-lg",title:"Login"},l.a.createElement("svg",{className:"w-8 h-8 text-gray-600 hover:text-gray-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"}))),l.a.createElement("div",{onClick:e=>c.cartModal?n({type:"cartModalToggle",payload:!1}):n({type:"cartModalToggle",payload:!0}),className:"hover:bg-gray-200 px-2 py-2 rounded-lg relative cursor-pointer",title:"Cart"},l.a.createElement("svg",{className:"w-8 h-8 text-gray-600 hover:text-gray-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})),l.a.createElement("span",{className:"absolute top-0 ml-6 mt-1 bg-yellow-700 rounded px-1 text-white text-xs hover:text-gray-200 font-semibold"},null!==c.cartProduct?c.cartProduct.length:0)))),l.a.createElement("div",{className:c.navberHamburger&&c.navberHamburger?"px-1 pb-2 md:pb-0 md:px-10 lg:hidden":"hidden px-1 pb-2 md:pb-0 md:px-10 lg:hidden"},l.a.createElement("div",{className:"col-span-1 flex flex-col text-gray-600"},l.a.createElement("span",{className:"font-medium text-lg tracking-widest hover:text-gray-800 hover:bg-gray-200 px-3 py-2 rounded-lg cursor-pointer",onClick:e=>t.push("/")},"Shop"),l.a.createElement("span",{className:"font-medium text-lg tracking-widest hover:text-gray-800 hover:bg-gray-200 px-3 py-2 rounded-lg cursor-pointer",onClick:e=>t.push("/blog")},"Blog"),l.a.createElement("span",{className:"font-medium text-lg tracking-widest hover:text-gray-800 hover:bg-gray-200 px-3 py-2 rounded-lg cursor-pointer",onClick:e=>t.push("/contact-us")},"Contact us")))))},g=a(2),x=a.n(g);var h=e=>l.a.createElement(r.Fragment,null,l.a.createElement("footer",{style:{background:"#303031",color:"#87898A"},className:"z-10 py-6 px-4 md:px-12 text-center"},"Develop & Design @Gaurav Patil \xa9 Copyright ",x()().format("YYYY")));const y=async()=>{let e=JSON.parse(localStorage.getItem("cart")),t=[];if(e)for(const r of e)t.push(r.id);try{return(await d.a.post("".concat("http://localhost:8000","/api/product/cart-product"),{productArray:t})).data}catch(a){console.log(a)}},E=()=>{let e=localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):null,t=[];if(null!==e){for(let a of e)t.push(a.id);return t}return null},w=(e,t,a,r,l)=>{"increase"===e?a===t?l(!0):r(a+1):"decrease"===e&&(1===a?(r(1),l(!1)):r(a-1))},v=(e,t,a,r,l)=>{if(t===a)return!0;"increase"===e&&(a===l.length-1?r(0):a<l.length&&r(a+1))},f=(e,t)=>{let a=0;return JSON.parse(localStorage.getItem("cart")).forEach(r=>{r.id===e&&(a=r.quantitiy*t)}),a},b=e=>{let t=0;return JSON.parse(localStorage.getItem("cart")).forEach(a=>{a.id===e&&(t=a.quantitiy)}),t},N=()=>{let e=0;return JSON.parse(localStorage.getItem("cart")).forEach(t=>{e+=t.quantitiy*t.price}),e};var k=()=>{const e=Object(s.g)(),{data:t,dispatch:a}=Object(r.useContext)(S),c=t.cartProduct,n=()=>a({type:"cartModalToggle",payload:!t.cartModal});Object(r.useEffect)(()=>{o()},[]);const o=async()=>{try{let e=await y();e&&e.Products&&(a({type:"cartProduct",payload:e.Products}),a({type:"cartTotalCost",payload:N()}))}catch(e){console.log(e)}};return l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"".concat(t.cartModal?"":"hidden"," fixed top-0 z-30 w-full h-full bg-black opacity-50")}),l.a.createElement("section",{className:"".concat(t.cartModal?"":"hidden"," fixed z-40 inset-0 flex items-start justify-end")},l.a.createElement("div",{style:{background:"#303031"},className:"w-full md:w-5/12 lg:w-4/12 h-full flex flex-col justify-between"},l.a.createElement("div",{className:"overflow-y-auto"},l.a.createElement("div",{className:"border-b border-gray-700 flex justify-between"},l.a.createElement("div",{className:"p-4 text-white text-lg font-semibold"},"Cart"),l.a.createElement("div",{className:"p-4 text-white"},l.a.createElement("svg",{onClick:e=>n(),className:"w-6 h-6 cursor-pointer",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})))),l.a.createElement("div",{className:"m-4 flex-col"},c&&0!==c.length&&c.map((e,t)=>l.a.createElement(r.Fragment,{key:t},l.a.createElement("div",{className:"text-white flex space-x-2 my-4 items-center"},l.a.createElement("img",{className:"w-16 h-16 object-cover object-center",src:"".concat("http://localhost:8000","/uploads/products/").concat(e.pImages[0]),alt:"cartProduct"}),l.a.createElement("div",{className:"relative w-full flex flex-col"},l.a.createElement("div",{className:"my-2"},e.pName),l.a.createElement("div",{className:"flex items-center justify-between"},l.a.createElement("div",{className:"flex items-center justify-between space-x-2"},l.a.createElement("div",{className:"text-sm text-gray-400"},"Quantity :"),l.a.createElement("div",{className:"flex items-end"},l.a.createElement("span",{className:"text-sm text-gray-200"},b(e._id)))),l.a.createElement("div",null," ",l.a.createElement("span",{className:"text-sm text-gray-400"},"Subtotoal :")," ","$",f(e._id,e.pPrice),".00")," "),l.a.createElement("div",{onClick:t=>(e=>{let t=localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[];0!==t.length&&(t=t.filter(t=>t.id!==e),localStorage.setItem("cart",JSON.stringify(t)),o(),a({type:"inCart",payload:E()}),a({type:"cartTotalCost",payload:N()})),0===t.length&&(a({type:"cartProduct",payload:null}),o(),a({type:"inCart",payload:E()}))})(e._id),className:"absolute top-0 right-0 text-white"},l.a.createElement("svg",{className:"w-5 h-5 cursor-pointer",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"}))))))),null===c&&l.a.createElement("div",{className:"m-4 flex-col text-white text-xl text-center"},"No product in cart"))),l.a.createElement("div",{className:"m-4 space-y-4"},l.a.createElement("div",{onClick:e=>n(),className:"cursor-pointer px-4 py-2 border border-gray-400 text-white text-center cursor-pointer"},"Continue shopping"),t.cartTotalCost?l.a.createElement(r.Fragment,null,i()?l.a.createElement("div",{className:"px-4 py-2 bg-black text-white text-center cursor-pointer",onClick:t=>{e.push("/checkout"),n()}},"Checkout $",t.cartTotalCost,".00"):l.a.createElement("div",{className:"px-4 py-2 bg-black text-white text-center cursor-pointer",onClick:r=>{e.push("/"),n(),a({type:"loginSignupError",payload:!t.loginSignupError}),a({type:"loginSignupModalToggle",payload:!t.loginSignupModal})}},"Checkout $",t.cartTotalCost,".00")):l.a.createElement("div",{className:"px-4 py-2 bg-black text-white text-center cursor-not-allowed"},"Checkout")))))};var C=e=>{const{data:t,dispatch:a}=Object(r.useContext)(S),[c,n]=Object(r.useState)({email:"",password:"",error:!1,loading:!0}),s=e=>l.a.createElement("div",{className:"text-xs text-red-500"},e),o=async()=>{n({...c,loading:!0});try{let e=await(async e=>{let{email:t,password:a}=e;const r={email:t,password:a};try{return(await d.a.post("http://localhost:8000/api/signin",r)).data}catch(l){console.log(l)}})({email:c.email,password:c.password});e.error?n({...c,loading:!1,error:e.error,password:""}):e.token&&(n({email:"",password:"",loading:!1,error:!1}),localStorage.setItem("jwt",JSON.stringify(e)),window.location.href="/")}catch(e){console.log(e)}};return l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"text-center text-2xl mb-6"},"Login"),t.loginSignupError?l.a.createElement("div",{className:"bg-red-200 py-2 px-4 rounded"},"You need to login for checkout. Haven't accont? Create new one."):"",l.a.createElement("form",{className:"space-y-4"},l.a.createElement("div",{className:"flex flex-col"},l.a.createElement("label",{htmlFor:"name"},"Username or email address",l.a.createElement("span",{className:"text-sm text-gray-600 ml-1"},"*")),l.a.createElement("input",{onChange:e=>{n({...c,email:e.target.value,error:!1}),a({type:"loginSignupError",payload:!1})},value:c.email,type:"text",id:"name",className:"".concat(c.error?"border-red-500":""," px-4 py-2 focus:outline-none border")}),c.error?s(c.error):""),l.a.createElement("div",{className:"flex flex-col"},l.a.createElement("label",{htmlFor:"password"},"Password",l.a.createElement("span",{className:"text-sm text-gray-600 ml-1"},"*")),l.a.createElement("input",{onChange:e=>{n({...c,password:e.target.value,error:!1}),a({type:"loginSignupError",payload:!1})},value:c.password,type:"password",id:"password",className:"".concat(c.error?"border-red-500":""," px-4 py-2 focus:outline-none border")}),c.error?s(c.error):""),l.a.createElement("div",{className:"flex flex-col space-y-2 md:flex-row md:justify-between md:items-center"},l.a.createElement("div",null,l.a.createElement("input",{type:"checkbox",id:"rememberMe",className:"px-4 py-2 focus:outline-none border mr-1"}),l.a.createElement("label",{htmlFor:"rememberMe"},"Remember me",l.a.createElement("span",{className:"text-sm text-gray-600"},"*"))),l.a.createElement("a",{className:"block text-gray-600",href:"/"},"Lost your password?")),l.a.createElement("div",{onClick:e=>o(),style:{background:"#303031"},className:"font-medium px-4 py-2 text-white text-center cursor-pointer"},"Login")))};var j=e=>{const[t,a]=Object(r.useState)({name:"",email:"",password:"",cPassword:"",error:!1,loading:!1,success:!1}),c=(e,t)=>l.a.createElement("div",{className:"text-sm text-".concat(t,"-500")},e),n=async()=>{if(a({...t,loading:!0}),t.cPassword!==t.password)return a({...t,error:{cPassword:"Password doesn't match",password:"Password doesn't match"}});try{let e=await(async e=>{let{name:t,email:a,password:r,cPassword:l}=e;const c={name:t,email:a,password:r,cPassword:l};try{return(await d.a.post("http://localhost:8000/api/signup",c)).data}catch(n){console.log(n)}})({name:t.name,email:t.email,password:t.password,cPassword:t.cPassword});e.error?a({...t,loading:!1,error:e.error,password:"",cPassword:""}):e.success&&a({success:e.success,name:"",email:"",password:"",cPassword:"",loading:!1,error:!1})}catch(e){console.log(e)}};return l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"text-center text-2xl mb-6"},"Register"),l.a.createElement("form",{className:"space-y-4"},t.success?c(t.success,"green"):"",l.a.createElement("div",{className:"flex flex-col"},l.a.createElement("label",{htmlFor:"name"},"Name",l.a.createElement("span",{className:"text-sm text-gray-600 ml-1"},"*")),l.a.createElement("input",{onChange:e=>a({...t,success:!1,error:{},name:e.target.value}),value:t.name,type:"text",id:"name",className:"".concat(t.error.name?"border-red-500":""," px-4 py-2 focus:outline-none border")}),t.error?c(t.error.name,"red"):""),l.a.createElement("div",{className:"flex flex-col"},l.a.createElement("label",{htmlFor:"email"},"Email address",l.a.createElement("span",{className:"text-sm text-gray-600 ml-1"},"*")),l.a.createElement("input",{onChange:e=>a({...t,success:!1,error:{},email:e.target.value}),value:t.email,type:"email",id:"email",className:"".concat(t.error.email?"border-red-500":""," px-4 py-2 focus:outline-none border")}),t.error?c(t.error.email,"red"):""),l.a.createElement("div",{className:"flex flex-col"},l.a.createElement("label",{htmlFor:"password"},"Password",l.a.createElement("span",{className:"text-sm text-gray-600 ml-1"},"*")),l.a.createElement("input",{onChange:e=>a({...t,success:!1,error:{},password:e.target.value}),value:t.password,type:"password",id:"password",className:"".concat(t.error.password?"border-red-500":""," px-4 py-2 focus:outline-none border")}),t.error?c(t.error.password,"red"):""),l.a.createElement("div",{className:"flex flex-col"},l.a.createElement("label",{htmlFor:"cPassword"},"Confirm password",l.a.createElement("span",{className:"text-sm text-gray-600 ml-1"},"*")),l.a.createElement("input",{onChange:e=>a({...t,success:!1,error:{},cPassword:e.target.value}),value:t.cPassword,type:"password",id:"cPassword",className:"".concat(t.error.cPassword?"border-red-500":""," px-4 py-2 focus:outline-none border")}),t.error?c(t.error.cPassword,"red"):""),l.a.createElement("div",{className:"flex flex-col space-y-2 md:flex-row md:justify-between md:items-center"},l.a.createElement("div",null,l.a.createElement("input",{type:"checkbox",id:"rememberMe",className:"px-4 py-2 focus:outline-none border mr-1"}),l.a.createElement("label",{htmlFor:"rememberMe"},"Remember me",l.a.createElement("span",{className:"text-sm text-gray-600"},"*"))),l.a.createElement("a",{className:"block text-gray-600",href:"/"},"Lost your password?")),l.a.createElement("div",{onClick:e=>n(),style:{background:"#303031"},className:"px-4 py-2 text-white text-center cursor-pointer font-medium"},"Create an account")))};var O=e=>{const{data:t,dispatch:a}=Object(r.useContext)(S),[c,n]=Object(r.useState)(!0),[s,o]=Object(r.useState)("Create an account"),m=()=>t.loginSignupModal?a({type:"loginSignupModalToggle",payload:!1}):a({type:"loginSignupModalToggle",payload:!0});return l.a.createElement(r.Fragment,null,l.a.createElement("div",{onClick:e=>m(),className:" ".concat(t.loginSignupModal?"":"hidden"," fixed top-0 z-40 w-full h-screen bg-black opacity-50 cursor-pointer")}),l.a.createElement("section",{className:" ".concat(t.loginSignupModal?"":"hidden"," fixed z-40 inset-0 my-8 md:my-20 flex items-start justify-center overflow-auto")},l.a.createElement("div",{className:"w-11/12 md:w-3/5 lg:w-2/4 relative space-y-4 bg-white p-6 md:px-12 md:py-6"},c?l.a.createElement(C,null):l.a.createElement(j,null),l.a.createElement("div",{className:"flex items-center space-x-2"},l.a.createElement("span",{className:"border-b border-gray-500 w-full"}),l.a.createElement("span",{className:"font-medium"},"or"),l.a.createElement("span",{className:"border-b border-gray-500 w-full"})),l.a.createElement("div",{onClick:e=>{c?(n(!1),o("Login")):(n(!0),o("Create an account"))},style:{color:"#303031",border:"1px solid #303031"},className:"px-4 py-2 font-medium text-center cursor-pointer"},s),l.a.createElement("div",{className:"absolute top-0 right-0 mx-4"},l.a.createElement("svg",{onClick:e=>{m(),a({type:"loginSignupError",payload:!1})},className:"w-6 h-6 cursor-pointer",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"}))))))};const S=Object(r.createContext)();var P=e=>{let{children:t}=e;return l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"flex-grow"},l.a.createElement(u,null),l.a.createElement(O,null),l.a.createElement(k,null),t),l.a.createElement(h,null))};var L=e=>{const{data:t,dispatch:a}=Object(r.useContext)(S);return l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"".concat(t.orderSuccess?"":"hidden"," fixed bottom-0 flex justify-between items-center z-30 w-full bg-gray-800 text-white text-lg py-8 md:py-16 md:text-xl px-4 text-center")},l.a.createElement("span",{className:"w-10/12 md:w-full"},"Your Order in process. Wait 2 days to deliver."),l.a.createElement("span",{onClick:e=>a({type:"orderSuccess",payload:!1}),className:"hover:bg-gray-400 hover:text-gray-800 p-2 rounded-full cursor-pointer"},l.a.createElement("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})))))};Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_URL,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_URL;const M=async()=>{try{return(await d.a.get("http://localhost:8000/api/order/get-all-orders")).data}catch(e){console.log(e)}},I=async e=>{let t=await(async()=>{try{return(await d.a.post("http://localhost:8000/api/customize/dashboard-data")).data}catch(e){console.log(e)}})();t&&e({type:"totalData",payload:t})},D=async e=>{try{let t=await(async()=>{try{return(await d.a.get("http://localhost:8000/api/customize/get-slide-image")).data}catch(e){console.log(e)}})();t&&t.Images&&e({type:"sliderImages",payload:t.Images})}catch(t){console.log(t)}},_=async(e,t)=>{t({type:"imageUpload",payload:!0});try{let a=await(async e=>{try{return(await d.a.post("http://localhost:8000/api/customize/delete-slide-image",{id:e})).data}catch(t){console.log(t)}})(e);a&&a.success&&setTimeout((function(){D(t),t({type:"imageUpload",payload:!1})}),1e3)}catch(a){console.log(a)}},F=async(e,t)=>{t({type:"imageUpload",payload:!0});let a=new FormData;a.append("image",e),console.log(a.get("image")),console.log("call2");try{let e=await(async e=>{try{return(await d.a.post("http://localhost:8000/api/customize/upload-slide-image",e)).data}catch(t){console.log(t)}})(a);e&&e.success&&setTimeout((function(){t({type:"imageUpload",payload:!1}),D(t)}),1e3)}catch(r){console.log(r)}},A=(e,t)=>null!==t&&!0===t.includes(e),T=(e,t,a)=>{let r=localStorage.getItem("wishList")?JSON.parse(localStorage.getItem("wishList")):[];r.length>0?!0!==r.includes(t)&&(r.push(t),localStorage.setItem("wishList",JSON.stringify(r)),a(r)):(r.push(t),localStorage.setItem("wishList",JSON.stringify(r)),a(r))},B=(e,t,a)=>{let r=localStorage.getItem("wishList")?JSON.parse(localStorage.getItem("wishList")):[];r.length>0&&!0===r.includes(t)&&(r.splice(r.indexOf(t),1),localStorage.setItem("wishList",JSON.stringify(r)),a(r))};var R=e=>{const{data:t,dispatch:a}=Object(r.useContext)(G),[c,n]=Object(r.useState)(0);return Object(r.useEffect)(()=>{const e=setInterval(()=>{n(e=>e===t.sliderImages.length-1?0:e+1)},3e3);return()=>clearInterval(e)},[t.sliderImages.length]),Object(r.useEffect)(()=>{D(a)},[]),l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"relative mt-16 bg-gray-100 border-2"},t.sliderImages.length>0?l.a.createElement("img",{className:"w-full",src:"".concat("http://localhost:8000","/uploads/customize/").concat(t.sliderImages[c].slideImage),alt:"sliderImage"}):""),l.a.createElement(L,null))};const z=()=>({headers:{token:"Bearer ".concat(!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt")).token)}}),W=async()=>{try{return(await d.a.get("".concat("http://localhost:8000","/api/category/all-category"),z())).data}catch(e){console.log(e)}},H=async()=>{try{return(await d.a.get("".concat("http://localhost:8000","/api/product/all-product"))).data}catch(e){console.log(e)}};a(57);const V=()=>{const e=Object(s.g)(),{data:t}=Object(r.useContext)(G),[a,c]=Object(r.useState)(null);Object(r.useEffect)(()=>{n()},[]);const n=async()=>{try{let e=await W();e&&e.Categories&&c(e.Categories)}catch(e){console.log(e)}};return l.a.createElement("div",{className:"".concat(t.categoryListDropdown?"":"hidden"," my-4")},l.a.createElement("hr",null),l.a.createElement("div",{className:"py-1 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5"},a&&a.length>0?a.map((t,a)=>l.a.createElement(r.Fragment,{key:a},l.a.createElement("div",{onClick:a=>e.push("/products/category/".concat(t._id)),className:"col-span-1 m-2 flex flex-col items-center justify-center space-y-2 cursor-pointer"},l.a.createElement("img",{className:"max-w-1/2 h-auto",src:"".concat("http://localhost:8000","/uploads/categories/").concat(t.cImage),alt:"pic"}),l.a.createElement("div",{className:"font-medium"},t.cName)))):l.a.createElement("div",{className:"text-xl text-center my-4"},"No Category")))},U=()=>{const{data:e,dispatch:t}=Object(r.useContext)(G),[a,c]=Object(r.useState)(0),n=async e=>{if("all"===e)try{let e=await H();e&&e.Products&&t({type:"setProducts",payload:e.Products})}catch(a){console.log(a)}else{t({type:"loading",payload:!0});try{setTimeout(async()=>{let r=await(async e=>{try{return(await d.a.post("".concat("http://localhost:8000","/api/product/product-by-price"),{price:e})).data}catch(a){console.log(a)}})(e);r&&r.Products&&(console.log(r.Products),t({type:"setProducts",payload:r.Products}),t({type:"loading",payload:!1}))},700)}catch(a){console.log(a)}}};return l.a.createElement("div",{className:"".concat(e.filterListDropdown?"":"hidden"," my-4")},l.a.createElement("hr",null),l.a.createElement("div",{className:"w-full flex flex-col"},l.a.createElement("div",{className:"font-medium py-2"},"Filter by price"),l.a.createElement("div",{className:"flex justify-between items-center"},l.a.createElement("div",{className:"flex flex-col space-y-2  w-2/3 lg:w-2/4"},l.a.createElement("label",{htmlFor:"points",className:"text-sm"},"Price (between 0 and 10$):"," ",l.a.createElement("span",{className:"font-semibold text-yellow-700"},a,".00$")," "),l.a.createElement("input",{value:a,className:"slider",type:"range",id:"points",min:"0",max:"1000",step:"10",onChange:e=>(e=>{c(e.target.value),n(e.target.value)})(e)})),l.a.createElement("div",{onClick:a=>(n("all"),t({type:"filterListDropdown",payload:!e.filterListDropdown}),void c(0)),className:"cursor-pointer"},l.a.createElement("svg",{className:"w-8 h-8 text-gray-700 hover:bg-gray-200 rounded-full p-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}))))))},J=()=>{const{data:e,dispatch:t}=Object(r.useContext)(G),[a,c]=Object(r.useState)(""),[n,s]=Object(r.useState)(null),o=async()=>{t({type:"loading",payload:!0});try{setTimeout(async()=>{let e=await H();e&&e.Products&&(s(e.Products),t({type:"loading",payload:!1}))},700)}catch(e){console.log(e)}};return l.a.createElement("div",{className:"".concat(e.searchDropdown?"":"hidden"," my-4 flex items-center justify-between")},l.a.createElement("input",{value:a,onChange:e=>(e=>{c(e.target.value),o(),t({type:"searchHandleInReducer",payload:e.target.value,productArray:n})})(e),className:"px-4 text-xl py-4 focus:outline-none",type:"text",placeholder:"Search products..."}),l.a.createElement("div",{onClick:a=>(t({type:"searchDropdown",payload:!e.searchDropdown}),o(),t({type:"setProducts",payload:n}),void c("")),className:"cursor-pointer"},l.a.createElement("svg",{className:"w-8 h-8 text-gray-700 hover:bg-gray-200 rounded-full p-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}))))};var Q=e=>l.a.createElement(r.Fragment,null,l.a.createElement(V,null),l.a.createElement(U,null),l.a.createElement(J,null));var K=e=>{const{data:t,dispatch:a}=Object(r.useContext)(G);return l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"flex justify-between font-medium"},l.a.createElement("div",{onClick:e=>a({type:"categoryListDropdown",payload:!t.categoryListDropdown}),className:"flex items-center space-x-1 cursor-pointer ".concat(t.categoryListDropdown?"text-yellow-700":"")},l.a.createElement("span",{className:"text-md md:text-lg hover:text-yellow-700"},"Categories"),l.a.createElement("svg",{className:"w-4 h-4 text-yellow-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"}))),l.a.createElement("div",{className:"flex space-x-2"},l.a.createElement("div",{onClick:e=>a({type:"filterListDropdown",payload:!t.filterListDropdown}),className:"flex items-center space-x-1 cursor-pointer ".concat(t.filterListDropdown?"text-yellow-700":"")},l.a.createElement("span",{className:"text-md md:text-lg"},"Filter"),l.a.createElement("span",null,l.a.createElement("svg",{className:"w-4 h-4 text-gray-700 text-yellow-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})))),l.a.createElement("span",null,"/"),l.a.createElement("div",{onClick:e=>a({type:"searchDropdown",payload:!t.searchDropdown}),className:"flex items-center space-x-1 cursor-pointer ".concat(t.searchDropdown?"text-yellow-700":"")},l.a.createElement("span",{className:"text-md md:text-lg"},"Search"),l.a.createElement("span",null,l.a.createElement("svg",{className:"w-4 h-4 text-gray-700 text-yellow-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})))))),l.a.createElement(Q,null))};const q={categoryListDropdown:!1,filterListDropdown:!1,searchDropdown:!1,products:null,loading:!1,sliderImages:[]},Y=(e,t)=>{switch(t.type){case"categoryListDropdown":return{...e,categoryListDropdown:t.payload,filterListDropdown:!1,searchDropdown:!1};case"filterListDropdown":return{...e,categoryListDropdown:!1,filterListDropdown:t.payload,searchDropdown:!1};case"searchDropdown":return{...e,categoryListDropdown:!1,filterListDropdown:!1,searchDropdown:t.payload};case"setProducts":return{...e,products:t.payload};case"searchHandleInReducer":return{...e,products:t.productArray&&t.productArray.filter(e=>-1!==e.pName.toUpperCase().indexOf(t.payload.toUpperCase())?e:null)};case"loading":return{...e,loading:t.payload};case"sliderImages":return{...e,sliderImages:t.payload};default:return e}};var $=e=>{const{data:t,dispatch:a}=Object(r.useContext)(G),{products:c}=t,n=Object(s.g)(),[o,m]=Object(r.useState)(JSON.parse(localStorage.getItem("wishList")));Object(r.useEffect)(()=>{d()},[]);const d=async()=>{a({type:"loading",payload:!0});try{let e=await H();setTimeout(()=>{e&&e.Products&&(a({type:"setProducts",payload:e.Products}),a({type:"loading",payload:!1}))},500)}catch(e){console.log(e)}};return t.loading?l.a.createElement("div",{className:"col-span-2 md:col-span-3 lg:col-span-4 flex items-center justify-center py-24"},l.a.createElement("svg",{className:"w-12 h-12 animate-spin text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"}))):l.a.createElement(r.Fragment,null,c&&c.length>0?c.map((e,t)=>l.a.createElement(r.Fragment,{key:t},l.a.createElement("div",{className:"relative col-span-1 m-2"},l.a.createElement("img",{onClick:t=>n.push("/products/".concat(e._id)),className:"w-full object-cover object-center cursor-pointer",src:"".concat("http://localhost:8000","/uploads/products/").concat(e.pImages[1]),alt:""}),l.a.createElement("div",{className:"flex items-center justify-between mt-2"},l.a.createElement("div",{className:"text-gray-600 font-light truncate"},e.pName),l.a.createElement("div",{className:"flex items-center space-x-1"},l.a.createElement("span",null,l.a.createElement("svg",{className:"w-4 h-4 fill-current text-yellow-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"}))),l.a.createElement("span",{className:"text-gray-700"},e.pRatingsReviews.length))),l.a.createElement("div",null,"$",e.pPrice,".00"),l.a.createElement("div",{className:"absolute top-0 right-0 mx-2 my-2 md:mx-4"},l.a.createElement("svg",{onClick:t=>T(0,e._id,m),className:"".concat(A(e._id,o)&&"hidden"," w-5 h-5 md:w-6 md:h-6 cursor-pointer text-yellow-700 transition-all duration-300 ease-in"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})),l.a.createElement("svg",{onClick:t=>B(0,e._id,m),className:"".concat(!A(e._id,o)&&"hidden"," w-5 h-5 md:w-6 md:h-6 cursor-pointer text-yellow-700 transition-all duration-300 ease-in"),fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})))))):l.a.createElement("div",{className:"col-span-2 md:col-span-3 lg:col-span-4 flex items-center justify-center py-24 text-2xl"},"No product found"))};const G=Object(r.createContext)(),X=()=>l.a.createElement(r.Fragment,null,l.a.createElement(R,null),l.a.createElement("section",{className:"m-4 md:mx-8 md:my-6"},l.a.createElement(K,null)),l.a.createElement("section",{className:"m-4 md:mx-8 md:my-6 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4"},l.a.createElement($,null)));var Z=e=>{const[t,a]=Object(r.useReducer)(Y,q);return l.a.createElement(r.Fragment,null,l.a.createElement(G.Provider,{value:{data:t,dispatch:a}},l.a.createElement(P,{children:l.a.createElement(X,null)})))};const ee=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_URL,te=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_URL,ae=()=>{const e=Object(s.g)(),[t,a]=Object(r.useState)([]),[c,n]=Object(r.useState)(!1);Object(r.useEffect)(()=>{o()},[]);const o=async()=>{n(!0);let e=await(async()=>{let e=JSON.parse(localStorage.getItem("wishList"));try{return(await d.a.post("".concat(ee,"/api/product/wish-product"),{productArray:e})).data}catch(t){console.log(t)}})();setTimeout(()=>{e&&e.Products&&(a(e.Products),n(!1))},50)};return c?l.a.createElement("div",{className:"my-32 text-2xl text-center"},"No product found in wishList"):l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"grid grid-cols-2 md:grid-cols-1"},t.length>0?t.map((t,a)=>l.a.createElement("div",{key:a,className:"relative m-2 md:py-6 md:border-t md:border-b md:my-2 md:mx-0 col-span-1 md:flex md:items-center md:justify-between"},l.a.createElement("div",{className:"md:w-1/2 md:flex md:items-center"},l.a.createElement("img",{onClick:a=>e.push("/products/".concat(t._id)),className:"cursor-pointer md:h-20 md:w-20 object-cover object-center",src:"".concat(te,"/uploads/products/").concat(t.pImages[0]),alt:"wishListproduct"}),l.a.createElement("div",{className:"text-lg md:ml-6 truncate"},t.pName)),l.a.createElement("div",{className:"md:w-1/2 md:flex md:items-center md:justify-around"},l.a.createElement("div",{className:"font-semibold text-gray-600"},"$",t.pPrice,".00"),t.pQuantity>0?l.a.createElement("div",{className:"text-green-500 my-1 md:my-0"},"In Stock"):l.a.createElement("div",{className:"text-red-500 my-1 md:my-0"},"Out Stock"),l.a.createElement("div",{style:{background:"#303031"},onClick:a=>e.push("/products/".concat(t._id)),className:"inline-block px-4 py-2 text-white text-xs md:text-base text-center cursor-pointer hover:opacity-75"},"View")),l.a.createElement("div",{className:"absolute top-0 right-0 mx-2 my-2 md:relative"},l.a.createElement("svg",{onClick:e=>(e=>{let t=localStorage.getItem("wishList")?JSON.parse(localStorage.getItem("wishList")):[];t.length>0&&!0===t.includes(e)&&(t.splice(t.indexOf(e),1),localStorage.setItem("wishList",JSON.stringify(t)),o())})(t._id),className:"w-6 h-6 cursor-pointer",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"}))))):l.a.createElement("div",null,"No product found in wishList")))};var re=e=>l.a.createElement(r.Fragment,null,l.a.createElement("section",{className:"mx-4 mt-20 md:mx-12 md:mt-32 lg:mt-24"},l.a.createElement("div",{className:"text-2xl mx-2 mb-6"},"Wishlist"),l.a.createElement(ae,null)));var le=()=>l.a.createElement(r.Fragment,null,l.a.createElement(P,{children:l.a.createElement(re,null)}));var ce=e=>{let{component:t,...a}=e;return l.a.createElement(s.b,Object.assign({},a,{render:e=>i()&&!p()?l.a.createElement(t,e):l.a.createElement(s.a,{to:{pathname:"/",state:{from:e.location}}})}))};var ne=e=>{let{component:t,...a}=e;return l.a.createElement(s.b,Object.assign({},a,{render:e=>p()&&i()?l.a.createElement(t,e):l.a.createElement(s.a,{to:{pathname:"/user/profile",state:{from:e.location}}})}))};var se=e=>{let{component:t,...a}=e;return l.a.createElement(s.b,Object.assign({},a,{render:e=>0!==JSON.parse(localStorage.getItem("cart")).length&&i()?l.a.createElement(t,e):l.a.createElement(s.a,{to:{pathname:"/",state:{from:e.location}}})}))};const oe={navberHamburger:!1,loginSignupModal:!1,loginSignupError:!1,cartModal:!1,cartProduct:null,singleProductDetail:null,inCart:null,cartTotalCost:null,orderSuccess:!1,loading:!1},me=(e,t)=>{switch(t.type){case"hamburgerToggle":return{...e,navberHamburger:t.payload};case"loginSignupModalToggle":return{...e,loginSignupModal:t.payload};case"cartModalToggle":return{...e,cartModal:t.payload};case"cartProduct":return{...e,cartProduct:t.payload};case"singleProductDetail":return{...e,singleProductDetail:t.payload};case"inCart":return{...e,inCart:t.payload};case"cartTotalCost":return{...e,cartTotalCost:t.payload};case"loginSignupError":return{...e,loginSignupError:t.payload};case"orderSuccess":return{...e,orderSuccess:t.payload};case"loading":return{...e,loading:t.payload};default:return e}},de=e=>l.a.createElement("div",{className:"flex flex-col items-center justify-center my-32"},l.a.createElement("span",null,l.a.createElement("svg",{className:"w-32 h-32 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))),l.a.createElement("span",{className:"text-center text-gray-700 text-4xl font-bold tracking-widest"},"404 not found"));var ie=e=>l.a.createElement(P,{children:l.a.createElement(de,null)});const pe={loading:!1,menu:!0},ue=(e,t)=>{switch(t.type){case"menu":return{...e,menu:t.payload};case"loading":return{...e,loading:t.payload};case"cartState":return{...e,cartState:t.payload};default:return e}};var ge=e=>{const{categoryId:t,category:a,product:c}=e.value,n=Object(s.g)();return l.a.createElement(r.Fragment,null,l.a.createElement("section",{className:"mx-4 mt-24 md:mx-12 md:mt-32 lg:mt-24"},l.a.createElement("div",{className:"flex justify-between items-center"},l.a.createElement("div",{className:"text-sm flex space-x-2"},l.a.createElement("span",{className:"hover:text-yellow-700 cursor-pointer",onClick:e=>n.push("/")},"Shop"),l.a.createElement("span",{className:"hover:text-yellow-700 cursor-pointer",onClick:e=>n.push("/products/category/".concat(t))},a),l.a.createElement("span",{className:"text-yellow-700 cursor-default"},c)),l.a.createElement("div",null,l.a.createElement("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"}))))))};const xe=async e=>{try{return(await d.a.post("".concat("http://localhost:8000","/api/product/single-product"),{pId:e})).data}catch(t){console.log(t)}},he=(e,t)=>l.a.createElement("div",{className:"bg-".concat(e,"-200 px-4 py-2 my-2 rounded")},t),ye=async(e,t,a,r)=>{try{let l=await(async e=>{try{return(await d.a.post("".concat("http://localhost:8000","/api/product/delete-review"),e)).data}catch(t){console.log(t)}})({rId:e,pId:t});l.success?(a(),r({success:l.success})):l.error&&a()}catch(l){console.log(l)}},Ee=async(e,t,a)=>{let r={rating:e.rating,review:e.review,pId:e.pId,uId:JSON.parse(localStorage.getItem("jwt")).user._id};try{let l=await(async e=>{try{return(await d.a.post("".concat("http://localhost:8000","/api/product/add-review"),e)).data}catch(t){console.log(t)}})(r);l.success?(t({...e,success:l.success,review:"",rating:""}),a()):l.error&&(t({...e,error:l.error,review:"",rating:""}),a())}catch(l){console.log(l)}};var we=e=>{const{data:t,dispatch:a}=Object(r.useContext)(S),{pRatingsReviews:c}=t.singleProductDetail;let{id:n}=Object(s.i)();const[o,m]=Object(r.useState)({success:!1});o.success&&setTimeout(()=>{m({...o,success:!1})},2e3);const d=async()=>{try{let e=await xe(n);e.Product&&a({type:"singleProductDetail",payload:e.Product}),e.error&&console.log(e.error)}catch(e){console.log(e)}};return console.log(c),l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"md:mx-16 lg:mx-20 xl:mx-24 flex flex-col"},o.success?he("red",o.success):""),l.a.createElement("div",{className:"mt-6 mb-12 md:mx-16 lg:mx-20 xl:mx-24"},c.length>0?c.map((e,a)=>l.a.createElement(r.Fragment,{key:a},l.a.createElement("div",{className:"mb-6 md:mb-8 flex flex-col md:flex-row md:items-start"},l.a.createElement("img",{className:"mx-2 w-16 h-16 rounded-full",src:"https://secure.gravatar.com/avatar/676d90a1574e9d3ebf98dd36f7adad60?s=60&d=mm&r=g",alt:"pic"}),l.a.createElement("div",{className:"mx-2 flex justify-between w-full"},l.a.createElement("div",{className:"flex flex-col"},l.a.createElement("div",{className:"flex flex-col"},l.a.createElement("span",null,e.user?e.user.name:""),l.a.createElement("span",{className:"text-sm text-yellow-700"},x()(e.createdAt).format("lll"))),l.a.createElement("div",{className:"leading-tight mt-3"},e.review)),l.a.createElement("div",{className:"flex flex-col"},l.a.createElement("div",{className:"flex"},[...Array(Number(e.rating))].map(e=>l.a.createElement("span",{key:e},l.a.createElement("svg",{className:"w-4 h-4 fill-current text-yellow-700",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})))),[...Array(5-Number(e.rating))].map(e=>l.a.createElement("span",{key:e},l.a.createElement("svg",{className:"w-4 h-4 fill-current text-gray-300",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"}))))),e.user&&i()&&e.user._id===i().user._id?l.a.createElement("div",{className:"flex justify-center my-2"},l.a.createElement("span",{onClick:a=>ye(e._id,t.singleProductDetail._id,d,m),className:"hover:bg-gray-300 p-2 rounded-full cursor-pointer"},l.a.createElement("svg",{className:"w-6 h-6 text-yellow-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})))):l.a.createElement("div",null)))))):l.a.createElement("div",null,"No Review found")))};var ve=e=>{const{data:t,dispatch:a}=Object(r.useContext)(S);let{id:c}=Object(s.i)();const[n,o]=Object(r.useState)({rating:"",review:"",error:!1,success:!1,pId:c});(n.error||n.success)&&setTimeout(()=>{o({...n,error:!1,success:!1})},3e3);const m=async()=>{try{let e=await xe(c);e.Product&&(a({type:"singleProductDetail",payload:e.Product}),console.log(t)),e.error&&console.log(e.error)}catch(e){console.log(e)}},d=t.singleProductDetail.pRatingsReviews.map(e=>e.user?e.user._id:"");return l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"md:mx-16 lg:mx-20 xl:mx-24 flex flex-col"},n.error?he("red",n.error):"",n.success?he("green",n.success):""),d.includes(i().user._id)?l.a.createElement("div",{className:"mb-12 md:mx-16 lg:mx-20 xl:mx-24"}):l.a.createElement("div",{className:"mb-12 md:mx-16 lg:mx-20 xl:mx-24 flex flex-col"},l.a.createElement("div",{className:"flex flex-col space-y-2"},l.a.createElement("span",{className:"text-2xl font-medium"},"Add a review"),l.a.createElement("span",{className:"text-gray-600 text-sm"},"Your email address will not be published. Required fields are marked *")),l.a.createElement("div",{className:"mb-4"},l.a.createElement("fieldset",{onChange:e=>o({...n,rating:e.target.value}),className:"rating"},l.a.createElement("input",{type:"radio",className:"rating",id:"star5",name:"rating",defaultValue:5}),l.a.createElement("label",{className:"full",htmlFor:"star5",title:"Awesome - 5 stars"}),l.a.createElement("input",{type:"radio",className:"rating",id:"star4",name:"rating",defaultValue:4}),l.a.createElement("label",{className:"full",htmlFor:"star4",title:"Pretty good - 4 stars"}),l.a.createElement("input",{type:"radio",className:"rating",id:"star3",name:"rating",defaultValue:3}),l.a.createElement("label",{className:"full",htmlFor:"star3",title:"Meh - 3 stars"}),l.a.createElement("input",{type:"radio",className:"rating",id:"star2",name:"rating",defaultValue:2}),l.a.createElement("label",{className:"full",htmlFor:"star2",title:"Kinda bad - 2 stars"}),l.a.createElement("input",{type:"radio",className:"rating",id:"star1",name:"rating",defaultValue:1}),l.a.createElement("label",{className:"full",htmlFor:"star1",title:"Sucks big time - 1 star"}))),l.a.createElement("div",{className:"space-y-4"},l.a.createElement("div",{className:"flex flex-col"},l.a.createElement("label",{htmlFor:"textArea"},"Review ",l.a.createElement("span",{className:"text-sm text-gray-600"},"*")),l.a.createElement("textarea",{onChange:e=>o({...n,review:e.target.value}),value:n.review,className:"border px-4 py-2 focus:outline-none",name:"textArea",id:"textArea",cols:30,rows:3,placeholder:"Your review..."})),l.a.createElement("div",{onClick:e=>((e,t,a)=>{e.rating&&e.review?i()?Ee(e,t,a):t({...e,error:"You must need login to review"}):t({...e,error:"Rating and review must be required"})})(n,o,m),style:{background:"#303031"},className:"inline-block rounded px-4 py-2 text-white text-center cursor-pointer"},"Submit"))))};a(58);const fe=()=>{const{data:e,dispatch:t}=Object(r.useContext)(je),{data:a}=Object(r.useContext)(S);return l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"flex flex-col md:flex-row items-center justify-center"},l.a.createElement("div",{onClick:e=>t({type:"menu",payload:!0}),className:"".concat(e.menu?"border-b-2 border-yellow-700":""," px-4 py-3 cursor-pointer")},"Description"),l.a.createElement("div",{onClick:e=>t({type:"menu",payload:!1}),className:"".concat(e.menu?"":"border-b-2 border-yellow-700"," px-4 py-3 relative flex cursor-pointer")},l.a.createElement("span",null,"Reviews"),l.a.createElement("span",{className:"absolute text-xs top-0 right-0 mt-2 bg-yellow-700 text-white rounded px-1"},a.singleProductDetail.pRatingsReviews.length))))},be=()=>l.a.createElement(r.Fragment,null,l.a.createElement(we,null),i()?l.a.createElement(ve,null):l.a.createElement("div",{className:"mb-12 md:mx-16 lg:mx-20 xl:mx-24 bg-red-200 px-4 py-2 rounded mb-4"},"You need to login in for review"));var Ne=e=>{const{data:t}=Object(r.useContext)(je),{data:a}=Object(r.useContext)(S),[c,n]=Object(r.useState)({});return Object(r.useEffect)(()=>{n(a.singleProductDetail?a.singleProductDetail:"")},[]),l.a.createElement(r.Fragment,null,l.a.createElement("section",{className:"m-4 md:mx-12 md:my-8"},l.a.createElement(fe,null),t.menu?l.a.createElement("div",{className:"mt-6"},c.pDescription):l.a.createElement(be,null)),l.a.createElement("div",{className:"m-4 md:mx-8 md:my-6 flex justify-center capitalize font-light tracking-widest bg-white border-t border-b text-gray-800 px-4 py-4 space-x-4"},l.a.createElement("div",null,l.a.createElement("span",null,"Category :"),l.a.createElement("span",{className:"text-sm text-gray-600"}," ",c.pCategory?c.pCategory.cName:""))))};var ke=e=>{let{id:t}=Object(s.i)();const{data:a,dispatch:c}=Object(r.useContext)(je),{data:n,dispatch:o}=Object(r.useContext)(S),m=n.singleProductDetail,[d,i]=Object(r.useState)(null),[p,u]=Object(r.useState)(0),[g,x]=Object(r.useState)(1),[,h]=Object(r.useState)(!1),[f,b]=Object(r.useState)(JSON.parse(localStorage.getItem("wishList")));Object(r.useEffect)(()=>{k()},[]);const k=async()=>{c({type:"loading",payload:!0});try{let e=await xe(t);setTimeout(()=>{e.Product&&(o({type:"singleProductDetail",payload:e.Product}),i(e.Product.pImages),c({type:"loading",payload:!1}),o({type:"inCart",payload:E()})),e.error&&console.log(e.error)},500)}catch(e){console.log(e)}C()},C=async()=>{try{let e=await y();e&&e.Products&&o({type:"cartProduct",payload:e.Products})}catch(e){console.log(e)}};return a.loading?l.a.createElement("div",{className:"col-span-2 md:col-span-3 lg:col-span-4 flex items-center justify-center h-screen"},l.a.createElement("svg",{className:"w-12 h-12 animate-spin text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"}))):m?l.a.createElement(r.Fragment,null,l.a.createElement(ge,{value:{categoryId:m.pCategory._id,product:m.pName,category:m.pCategory.cName}}),l.a.createElement("section",{className:"m-4 md:mx-12 md:my-6"},l.a.createElement("div",{className:"grid grid-cols-2 md:grid-cols-12"},l.a.createElement("div",{className:"hidden md:block md:col-span-1 md:flex md:flex-col md:space-y-4 md:mr-2"},m.pImages.map((e,t)=>l.a.createElement("img",{key:t,onClick:()=>u(t),className:"".concat(p===t?"":"opacity-25"," cursor-pointer w-20 h-20 object-cover object-center"),src:"".concat("http://localhost:8000","/uploads/products/").concat(e),alt:"Product Image ".concat(t+1)}))),l.a.createElement("div",{className:"col-span-2 md:col-span-4"},l.a.createElement("div",{className:"relative"},l.a.createElement("img",{className:"w-full",src:"".concat("http://localhost:8000","/uploads/products/").concat(m.pImages[p]),alt:"Pic"}),l.a.createElement("div",{className:"absolute inset-0 flex justify-between items-center mb-4"},l.a.createElement("svg",{onClick:e=>v("increase",null,p,u,d),className:"flex justify-center  w-12 h-12 text-gray-700 opacity-25 cursor-pointer hover:text-yellow-700 hover:opacity-100",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})),l.a.createElement("svg",{onClick:e=>v("increase",null,p,u,d),className:"flex justify-center  w-12 h-12 text-gray-700 opacity-25 cursor-pointer hover:text-yellow-700 hover:opacity-100",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"}))))),l.a.createElement("div",{className:"col-span-2 mt-8 md:mt-0 md:col-span-4 md:ml-6 lg:ml-12"},l.a.createElement("div",{className:"flex flex-col leading-8"},l.a.createElement("div",{className:"text-2xl tracking-wider"},m.pName),l.a.createElement("div",{className:"flex justify-between items-center"},l.a.createElement("span",{className:"text-xl tracking-wider text-yellow-700"},"Rs. ",m.pPrice,".00"),l.a.createElement("span",null,l.a.createElement("svg",{onClick:e=>T(0,m._id,b),className:"".concat(A(m._id,f)&&"hidden"," w-5 h-5 md:w-6 md:h-6 cursor-pointer text-yellow-700"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})),l.a.createElement("svg",{onClick:e=>B(0,m._id,b),className:"".concat(!A(m._id,f)&&"hidden"," w-5 h-5 md:w-6 md:h-6 cursor-pointer text-yellow-700"),fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"}))))),l.a.createElement("div",{className:"my-4 md:my-6 text-gray-600"},m.pDescription),l.a.createElement("div",{className:"my-4 md:my-6"},+g===+m.pQuantity?l.a.createElement("span",{className:"text-xs text-red-500"},"Stock limited"):"",l.a.createElement("div",{className:"flex justify-between items-center px-4 py-2 border ".concat(+g===+m.pQuantity&&"border-red-500")},l.a.createElement("div",{className:"".concat(g===m.pQuantity&&"text-red-500")},"Quantity"),0!==m.pQuantity?l.a.createElement(r.Fragment,null,null==n.inCart||null!==n.inCart&&!1===n.inCart.includes(m._id)?l.a.createElement("div",{className:"flex items-center space-x-2"},l.a.createElement("span",{onClick:e=>w("decrease",m.pQuantity,g,x,h)},l.a.createElement("svg",{className:"w-5 h-5 fill-current cursor-pointer",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"}))),l.a.createElement("span",{className:"font-semibold"},g),l.a.createElement("span",{onClick:e=>w("increase",m.pQuantity,g,x,h)},l.a.createElement("svg",{className:"w-5 h-5 fill-current cursor-pointer",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})))):l.a.createElement("div",{className:"flex items-center space-x-2"},l.a.createElement("span",null,l.a.createElement("svg",{className:"w-5 h-5 fill-current cursor-not-allowed",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"}))),l.a.createElement("span",{className:"font-semibold"},g),l.a.createElement("span",null,l.a.createElement("svg",{className:"w-5 h-5 fill-current cursor-not-allowed",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"}))))):l.a.createElement("div",{className:"flex items-center space-x-2"},l.a.createElement("span",null,l.a.createElement("svg",{className:"w-5 h-5 fill-current cursor-not-allowed",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"}))),l.a.createElement("span",{className:"font-semibold"},g),l.a.createElement("span",null,l.a.createElement("svg",{className:"w-5 h-5 fill-current cursor-not-allowed",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"}))))),0!==m.pQuantity?l.a.createElement(r.Fragment,null,null!==n.inCart&&!0===n.inCart.includes(m._id)?l.a.createElement("div",{style:{background:"#303031"},className:"px-4 py-2 text-white text-center cursor-not-allowed uppercase opacity-75"},"In cart"):l.a.createElement("div",{onClick:e=>((e,t,a,r,l,c,n,s)=>{let o=!1,m=localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[];m.length>0?(m.forEach(t=>{t.id===e&&(o=!0)}),o||(m.push({id:e,quantitiy:t,price:a}),localStorage.setItem("cart",JSON.stringify(m)))):(m.push({id:e,quantitiy:t,price:a}),localStorage.setItem("cart",JSON.stringify(m))),r({type:"inCart",payload:E()}),r({type:"cartTotalCost",payload:s()}),l(1),c(!1),n()})(m._id,g,m.pPrice,o,x,h,k,N),style:{background:"#303031"},className:"px-4 py-2 text-white text-center cursor-pointer uppercase"},"Add to cart")):l.a.createElement(r.Fragment,null,null!==n.inCart&&!0===n.inCart.includes(m._id)?l.a.createElement("div",{style:{background:"#303031"},className:"px-4 py-2 text-white text-center cursor-not-allowed uppercase opacity-75"},"In cart"):l.a.createElement("div",{style:{background:"#303031"},disabled:!0,className:"px-4 py-2 text-white opacity-50 cursor-not-allowed text-center uppercase"},"Out of stock")))))),l.a.createElement(Ne,null)):l.a.createElement("div",null,"No product")};var Ce=e=>l.a.createElement(r.Fragment,null,l.a.createElement(ke,null));const je=Object(r.createContext)(),Oe=()=>l.a.createElement(r.Fragment,null,l.a.createElement(Ce,null));var Se=e=>{const[t,a]=Object(r.useReducer)(ue,pe);return l.a.createElement(r.Fragment,null,l.a.createElement(je.Provider,{value:{data:t,dispatch:a}},l.a.createElement(P,{children:l.a.createElement(Oe,null)})))};const Pe=e=>{let{category:t}=e;const a=Object(s.g)();return l.a.createElement(r.Fragment,null,l.a.createElement("section",{className:"mx-4 mt-24 md:mx-12 md:mt-32 lg:mt-24"},l.a.createElement("div",{className:"flex justify-between items-center"},l.a.createElement("div",{className:"text-sm flex space-x-3"},l.a.createElement("span",{className:"hover:text-yellow-700 cursor-pointer",onClick:e=>a.push("/")},"Shop"),l.a.createElement("span",{className:"text-yellow-700 cursor-default"},t)),l.a.createElement("div",null,l.a.createElement("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"}))))))},Le=e=>{let{products:t}=e;const a=Object(s.g)(),c=t&&t.length>0?t[0].pCategory.cName:"";return l.a.createElement(r.Fragment,null,l.a.createElement(Pe,{category:c}),l.a.createElement("section",{className:"m-4 md:mx-8 md:my-4 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4"},t&&t.length>0?t.map((e,t)=>l.a.createElement(r.Fragment,{key:t},l.a.createElement("div",{className:"relative col-span-1 m-2"},l.a.createElement("img",{onClick:t=>a.push("/products/".concat(e._id)),className:"w-full object-cover object-center cursor-pointer",src:"".concat("http://localhost:8000","/uploads/products/").concat(e.pImages[0]),alt:""}),l.a.createElement("div",{className:"flex items-center justify-between mt-2"},l.a.createElement("div",{className:"text-gray-600 font-light truncate"},e.pName),l.a.createElement("div",{className:"flex items-center space-x-1"},l.a.createElement("span",null,l.a.createElement("svg",{className:"w-4 h-4 fill-current text-yellow-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"}))),l.a.createElement("span",{className:"text-gray-700"},e.pRatings?e.pRatings.length:0))),l.a.createElement("div",null,e.pPrice,".00 Rs."),l.a.createElement("div",{className:"absolute top-0 right-0 mx-2 my-2 md:mx-4"},l.a.createElement("svg",{className:"w-5 h-5 md:w-6 md:h-6 cursor-pointer text-yellow-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})))))):l.a.createElement("div",{className:"col-span-2 md:col-span-3 lg:col-span-4 flex items-center justify-center py-24 text-2xl"},"No product found")))},Me=()=>{const[e,t]=Object(r.useState)(null),{catId:a}=Object(s.i)();Object(r.useEffect)(()=>{c()},[]);const c=async()=>{try{let e=await(async e=>{try{return(await d.a.post("".concat("http://localhost:8000","/api/product/product-by-category"),{catId:e})).data}catch(t){console.log(t)}})(a);e&&e.Products&&t(e.Products)}catch(e){console.log(e)}};return l.a.createElement(r.Fragment,null,l.a.createElement(Le,{products:e}))};var Ie=e=>l.a.createElement(r.Fragment,null,l.a.createElement(P,{children:l.a.createElement(Me,null)}));const De=e=>{Object(s.g)();const{data:t,dispatch:a}=Object(r.useContext)(S),[c,n]=Object(r.useState)(!0),[o,m]=Object(r.useState)(""),[i,p]=Object(r.useState)({address:"",phone:"",error:!1,success:!1,clientToken:null,instance:{}}),u={amount:1,name:"shiv",profile_name:"shiv",email:"shiv@gmail.com",product:"lehnga",number:"6359732901",address:"123,testing",callback_url:"".concat("http://localhost:8000","/api/phonepe/payment-callback"),cancel:"".concat("http://localhost:8000","/api/phonepe/payment-cancel")};return Object(r.useEffect)(()=>{(async(e,t)=>{t({type:"loading",payload:!0});try{const a=await e();a&&a.Products&&setTimeout((function(){t({type:"cartProduct",payload:a.Products}),t({type:"loading",payload:!1})}),1e3)}catch(a){console.error(a)}})(y,a),n(!0),console.log("hit1"),d.a.post("".concat("http://localhost:8000","/api/phonepe/order"),{...u}).then(e=>{setTimeout(()=>{n(!1),m(e.data),console.log(e.data)})}).catch(e=>{n(!1),console.log(e)})},[]),t.loading?l.a.createElement("div",{className:"flex items-center justify-center h-screen"},l.a.createElement("svg",{className:"w-12 h-12 animate-spin text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})),"Please wait untill finish"):l.a.createElement(r.Fragment,null,l.a.createElement("section",{className:"mx-4 mt-20 md:mx-12 md:mt-32 lg:mt-24"},l.a.createElement("div",{className:"text-2xl mx-2"},"Order"),l.a.createElement("div",{className:"flex flex-col md:flex md:space-x-2 md:flex-row"},l.a.createElement("div",{className:"md:w-1/2"},l.a.createElement(_e,{products:t.cartProduct})),l.a.createElement("div",{className:"w-full order-first md:order-last md:w-1/2"},null===i.clientToken?l.a.createElement(r.Fragment,null,l.a.createElement("div",{onBlur:e=>p({...i,error:!1}),className:"p-4 md:p-8"},i.error?l.a.createElement("div",{className:"bg-red-200 py-2 px-4 rounded"},i.error):"",l.a.createElement("div",{className:"flex flex-col py-2"},l.a.createElement("label",{htmlFor:"address",className:"pb-2"},"Dalivery Address"),l.a.createElement("input",{value:i.address,onChange:e=>p({...i,address:e.target.value,error:!1}),type:"text",id:"address",className:"border px-4 py-2",placeholder:"Address..."})),l.a.createElement("div",{className:"flex flex-col py-2 mb-2"},l.a.createElement("label",{htmlFor:"phone",className:"pb-2"},"Phone"),l.a.createElement("input",{value:i.phone,onChange:e=>p({...i,phone:e.target.value,error:!1}),type:"number",id:"phone",className:"border px-4 py-2",placeholder:"+880"})),l.a.createElement("form",{method:"POST",action:"https://api.razorpay.com/v1/checkout/embedded"},l.a.createElement("input",{type:"hidden",name:"key_id",value:"rzp_test_LB72bLbEb4h31b"}),l.a.createElement("input",{type:"hidden",name:"amount",value:N}),l.a.createElement("input",{type:"hidden",name:"order_id",value:o}),l.a.createElement("input",{type:"hidden",name:"name",value:u.name}),l.a.createElement("input",{type:"hidden",name:"description",value:"A Wild Sheep Chase"}),l.a.createElement("input",{type:"hidden",name:"image",value:"https://cdn.razorpay.com/logos/BUVwvgaqVByGp2_large.jpg"}),l.a.createElement("input",{type:"hidden",name:"prefill[name]",value:u.profile_name}),l.a.createElement("input",{type:"hidden",name:"prefill[contact]",value:u.number}),l.a.createElement("input",{type:"hidden",name:"prefill[email]",value:u.email}),l.a.createElement("input",{type:"hidden",name:"notes[shipping address]",value:u.address}),l.a.createElement("input",{type:"hidden",name:"callback_url",value:u.callback_url}),l.a.createElement("input",{type:"hidden",name:"cancel_url",value:u.cancel}),l.a.createElement("div",{className:"w-full px-4 py-2 text-center text-white font-semibold cursor-pointer",style:{background:"#303031"}},l.a.createElement("button",{type:"submit"},"Pay now"))))):l.a.createElement("div",{className:"flex items-center justify-center py-12"},l.a.createElement("svg",{className:"w-12 h-12 animate-spin text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})))))))},_e=e=>{let{products:t}=e;const a=Object(s.g)();return l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"grid grid-cols-2 md:grid-cols-1"},null!==t&&t.length>0?t.map((e,t)=>l.a.createElement("div",{key:t,className:"col-span-1 m-2 md:py-6 md:border-t md:border-b md:my-2 md:mx-0 md:flex md:items-center md:justify-between"},l.a.createElement("div",{className:"md:flex md:items-center md:space-x-4"},l.a.createElement("img",{onClick:t=>a.push("/products/".concat(e._id)),className:"cursor-pointer md:h-20 md:w-20 object-cover object-center",src:"".concat("http://localhost:8000","/uploads/products/").concat(e.pImages[0]),alt:"wishListproduct"}),l.a.createElement("div",{className:"text-lg md:ml-6 truncate"},e.pName),l.a.createElement("div",{className:"md:ml-6 font-semibold text-gray-600 text-sm"},"Price : Rs. ",e.pPrice,".00"," "),l.a.createElement("div",{className:"md:ml-6 font-semibold text-gray-600 text-sm"},"Quantitiy : ",b(e._id)),l.a.createElement("div",{className:"font-semibold text-gray-600 text-sm"},"Subtotal : Rs. ",f(e._id,e.pPrice),".00")))):l.a.createElement("div",null,"No product found for checkout")))};var Fe=e=>l.a.createElement(r.Fragment,null,l.a.createElement(P,{children:l.a.createElement(De,null)}));var Ae=e=>{const t=Object(s.g)();return l.a.createElement(r.Fragment,null,l.a.createElement("nav",{className:"sticky z-10 flex items-center shadow-md justify-between px-4 py-4 md:px-8 top-0 w-full bg-white"},l.a.createElement("div",{className:"hidden lg:block lg:flex lg:items-center lg:space-x-4 mr-32"},l.a.createElement("span",null,l.a.createElement("svg",{className:"w-8 h-8 cursor-pointer text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})))),l.a.createElement("div",{className:"hidden lg:block"},l.a.createElement("span",{onClick:e=>t.push("/admin/dashboard"),style:{letterSpacing:"0.70rem"},className:"flex items-left text-center font-bold uppercase text-gray-800 text-2xl cursor-pointer px-2 text-center"},"Tyohaar")),l.a.createElement("div",{className:"lg:hidden flex items-center"},l.a.createElement("svg",{id:"hamburgerBtn",className:"lg:hidden w-8 h-8 cursor-pointer text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})),l.a.createElement("span",{onClick:e=>t.push("/admin/dashboard"),style:{letterSpacing:"0.10rem"},className:"flex items-left text-center font-bold uppercase text-gray-800 text-2xl cursor-pointer px-2 text-center"},"Tyohaar")),l.a.createElement("div",{className:"flex items-center"},l.a.createElement("div",{className:"hover:bg-gray-200 rounded-lg p-2",title:"Search"},l.a.createElement("svg",{className:"cursor-pointer w-8 h-8 text-gray-600 hover:text-gray-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"}))),l.a.createElement("div",{className:"hover:bg-gray-200 rounded-lg p-2",title:"Search"},l.a.createElement("svg",{className:"cursor-pointer w-8 h-8 text-gray-600 hover:text-gray-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"}))),l.a.createElement("div",{className:"userDropdownBtn hover:bg-gray-200 px-2 py-2 rounded-lg relative",title:"Logout"},l.a.createElement("svg",{className:"cursor-pointer w-8 h-8 text-gray-600 hover:text-gray-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})),l.a.createElement("div",{className:"userDropdown absolute right-0 mt-1 bg-gray-200 rounded"},l.a.createElement("li",{className:"flex flex-col text-gray-700"},l.a.createElement("span",{onClick:e=>t.push("/"),className:"flex space-x-1 py-2 px-8 hover:bg-gray-400 cursor-pointer"},l.a.createElement("span",null,l.a.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"}))),l.a.createElement("span",null,"Shop")),l.a.createElement("span",{className:"flex space-x-1 py-2 px-8 hover:bg-gray-400 cursor-pointer"},l.a.createElement("span",null,l.a.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}))),l.a.createElement("span",null,"Setting")),l.a.createElement("span",{onClick:e=>(localStorage.removeItem("jwt"),localStorage.removeItem("cart"),localStorage.removeItem("wishList"),void(window.location.href="/")),className:"flex space-x-1 py-2 px-8 hover:bg-gray-400 cursor-pointer"},l.a.createElement("span",null,l.a.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"}))),l.a.createElement("span",null,"Logout"))))))))};var Te=e=>{const t=Object(s.h)(),a=Object(s.g)();return l.a.createElement(r.Fragment,null,l.a.createElement("div",{style:{boxShadow:"1px 1px 8px 0.2px #aaaaaa"},id:"sidebar",className:"hidden md:block sticky top-0 left-0 h-screen md:w-3/12 lg:w-2/12 sidebarShadow bg-white text-gray-600"},l.a.createElement("div",{onClick:e=>a.push("/admin/dashboard"),className:"".concat("/admin/dashboard"===t.pathname?"border-r-4 border-gray-800 bg-gray-100":""," hover:bg-gray-200 cursor-pointer flex flex-col items-center justify-center py-6")},l.a.createElement("span",null,l.a.createElement("svg",{className:"w-8 h-8 text-gray-600 hover:text-gray-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 8v8m-4-5v5m-4-2v2m-2 4h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"}))),l.a.createElement("span",{className:"hover:text-gray-800"},"Dashboard")),l.a.createElement("hr",{className:"border-b border-gray-200"}),l.a.createElement("div",{onClick:e=>a.push("/admin/dashboard/categories"),className:"".concat("/admin/dashboard/categories"===t.pathname?"border-r-4 border-gray-800 bg-gray-100":""," hover:bg-gray-200 cursor-pointer flex flex-col items-center justify-center py-6")},l.a.createElement("span",null,l.a.createElement("svg",{className:"w-8 h-8 text-gray-600 hover:text-gray-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M3 14h18m-9-4v8m-7 0h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"}))),l.a.createElement("span",{className:"hover:text-gray-800"},"Categories")),l.a.createElement("hr",{className:"border-b border-gray-200"}),l.a.createElement("div",{onClick:e=>a.push("/admin/dashboard/products"),className:"".concat("/admin/dashboard/products"===t.pathname?"border-r-4 border-gray-800 bg-gray-100":""," hover:bg-gray-200 cursor-pointer flex flex-col items-center justify-center py-6")},l.a.createElement("span",null,l.a.createElement("svg",{className:"w-8 h-8 text-gray-600 hover:text-gray-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"}))),l.a.createElement("span",{className:"hover:text-gray-800"},"Product")),l.a.createElement("hr",{className:"border-b border-gray-200"}),l.a.createElement("div",{onClick:e=>a.push("/admin/dashboard/orders"),className:"".concat("/admin/dashboard/orders"===t.pathname?"border-r-4 border-gray-800 bg-gray-100":""," hover:bg-gray-200 cursor-pointer flex flex-col items-center justify-center py-6")},l.a.createElement("span",null,l.a.createElement("svg",{className:"w-8 h-8 text-gray-600 hover:text-gray-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"}))),l.a.createElement("span",{className:"hover:text-gray-800"},"Order")),l.a.createElement("hr",{className:"border-b border-gray-200"})))};var Be=e=>l.a.createElement(r.Fragment,null,l.a.createElement("footer",{style:{background:"#303031",color:"#87898A"},className:"z-10 py-6 px-4 md:px-12 text-center"},"Develop & Design Hasan-py \xa9 Copyright ",x()().format("YYYY")));var Re=e=>{let{children:t}=e;return l.a.createElement(r.Fragment,null,l.a.createElement(Ae,null),l.a.createElement("section",{className:"flex bg-gray-100"},l.a.createElement(Te,null),l.a.createElement("div",{className:"w-full md:w-11/12 h-full"},t)),l.a.createElement(Be,null))};var ze=e=>{const{data:t,dispatch:a}=Object(r.useContext)($e);return Object(r.useEffect)(()=>{I(a)},[]),l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"m-4 grid grid-cols-1 md:grid-cols-4 row-gap-4 col-gap-4"},l.a.createElement("div",{className:"flex flex-col justify-center items-center col-span-1 bg-white p-6 shadow-lg hover:shadow-none cursor-pointer transition-all duration-300 ease-in border-b-4 border-opacity-0 hover:border-opacity-100 border-indigo-200"},l.a.createElement("div",{className:"bg-indigo-200 p-2 cursor-pointer rounded-full"},l.a.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"}))),l.a.createElement("div",{className:"text-2xl font-semibold"},t?t.totalData.Users:0),l.a.createElement("div",{className:"text-lg font-medium"},"Customers"),l.a.createElement("div",{className:"flex items-center space-x-1 text-green-500"},l.a.createElement("span",null,"7%"),l.a.createElement("span",null,l.a.createElement("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"}))))),l.a.createElement("div",{className:"flex flex-col justify-center items-center col-span-1 bg-white p-6 shadow-lg hover:shadow-none cursor-pointer transition-all duration-300 ease-in border-b-4 border-opacity-0 hover:border-opacity-100 border-red-200"},l.a.createElement("div",{className:"bg-red-200 p-2 cursor-pointer rounded-full"},l.a.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"}))),l.a.createElement("div",{className:"text-2xl font-semibold"},t?t.totalData.Orders:0),l.a.createElement("div",{className:"text-lg font-medium"},"Orders"),l.a.createElement("div",{className:"flex items-center space-x-1 text-green-500"},l.a.createElement("span",null,"10%"),l.a.createElement("span",null,l.a.createElement("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"}))))),l.a.createElement("div",{className:"flex flex-col justify-center items-center col-span-1 bg-white p-6 shadow-lg hover:shadow-none cursor-pointer transition-all duration-300 ease-in border-b-4 border-opacity-0 hover:border-opacity-100 border-green-200"},l.a.createElement("div",{className:"bg-green-200 p-2 cursor-pointer rounded-full"},l.a.createElement("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{fillRule:"evenodd",d:"M10 2a4 4 0 00-4 4v1H5a1 1 0 00-.994.89l-1 9A1 1 0 004 18h12a1 1 0 00.994-1.11l-1-9A1 1 0 0015 7h-1V6a4 4 0 00-4-4zm2 5V6a2 2 0 10-4 0v1h4zm-6 3a1 1 0 112 0 1 1 0 01-2 0zm7-1a1 1 0 100 2 1 1 0 000-2z",clipRule:"evenodd"}))),l.a.createElement("div",{className:"text-2xl font-semibold"},t?t.totalData.Products:0),l.a.createElement("div",{className:"text-lg font-medium"},"Product")),l.a.createElement("div",{className:"flex flex-col justify-center items-center col-span-1 bg-white p-6 shadow-lg hover:shadow-none cursor-pointer transition-all duration-300 ease-in border-b-4 border-opacity-0 hover:border-opacity-100 border-orange-200"},l.a.createElement("div",{className:"bg-orange-200 p-2 cursor-pointer rounded-full"},l.a.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M3 14h18m-9-4v8m-7 0h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"}))),l.a.createElement("div",{className:"text-2xl font-semibold"},t?t.totalData.Categories:0),l.a.createElement("div",{className:"text-lg font-medium"},"Categories"))))};const We=()=>{const{data:e,dispatch:t}=Object(r.useContext)($e);return l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"relative m-4 bg-white p-4 shadow-lg"},l.a.createElement("h1",{className:"border-b-2 border-yellow-700 mb-4 pb-2 text-2xl font-semibold"},"Shop Slider Images"),l.a.createElement("div",{className:"relative flex flex-col space-y-2"},l.a.createElement("div",{style:{background:"#303031"},className:"relative z-0 px-4 py-2 rounded text-white flex justify-center space-x-2 md:w-4/12"},l.a.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"}))," ",l.a.createElement("span",null,"Upload File")),l.a.createElement("input",{onChange:e=>{if(console.log("call1"),e.target.files&&e.target.files.length>0){const a=e.target.files[0],r=a.name;console.log("Selected image name:",r),F(a,t)}},name:"image",accept:".jpg, .png, .jpeg, .gif, .bmp, .tif, .tiff|image/*",className:"absolute z-10 opacity-0 bg-gray-100",type:"file",id:"image"})),l.a.createElement("span",{onClick:a=>t({type:"uploadSliderBtn",payload:!e.uploadSliderBtn}),style:{background:"#303031"},className:"cursor-pointer absolute top-0 right-0 m-4 rounded-full p-1"},l.a.createElement("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}))),l.a.createElement(He,null)))},He=()=>{const{data:e,dispatch:t}=Object(r.useContext)($e);Object(r.useEffect)(()=>{D(t)},[]);return l.a.createElement(r.Fragment,null,e.imageUpload?l.a.createElement("div",{className:"flex items-center justify-center p-8"},l.a.createElement("svg",{className:"w-12 h-12 animate-spin text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"}))):"",l.a.createElement("div",{className:"grid grid-cols-1 md:grid md:grid-cols-2 lg:grid-cols-3 my-4"},e.sliderImages.length>0?e.sliderImages.map((e,a)=>l.a.createElement("div",{key:a,className:"relative col-span-1 m-2 border"},l.a.createElement("img",{className:"w-full md:h-32 object-center object-cover",src:"http://localhost:8000/uploads/customize/".concat(e.slideImage),alt:"sliderImages2"}),l.a.createElement("span",{onClick:a=>{return r=e._id,void _(r,t);var r},style:{background:"#303031"},className:"absolute top-0 right-0 m-1 text-white cursor-pointer rounded-full p-1"},l.a.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}))))):l.a.createElement("div",{className:"col-span-1 md:col-span-2 lg:col-span-3 text-center text-xl font-light w-full bg-orange-200 rounded py-2"},"No slide image found")))};var Ve=()=>{const{data:e,dispatch:t}=Object(r.useContext)($e);return l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"m-4 md:w-1/2"},e.uploadSliderBtn?"":l.a.createElement("div",{onClick:a=>t({type:"uploadSliderBtn",payload:!e.uploadSliderBtn}),style:{background:"#303031"},className:"cursor-pointer rounded-full p-2 flex items-center justify-center text-gray-100 text-sm font-semibold uppercase"},l.a.createElement("svg",{className:"w-6 h-6 text-gray-100 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"})),"Customize Slider Image")),e.uploadSliderBtn?l.a.createElement(We,null):"")};const Ue={totalData:[],totalOrders:[],uploadSliderBtn:!0,imageUpload:!1,sliderImages:[]},Je=(e,t)=>{switch(t.type){case"totalData":return{...e,totalData:t.payload};case"totalOrders":return{...e,totalOrders:t.payload};case"uploadSliderBtn":return{...e,uploadSliderBtn:t.payload};case"imageUpload":return{...e,imageUpload:t.payload};case"sliderImages":return{...e,sliderImages:t.payload};default:return e}},Qe=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_URL,Ke=()=>{const e=Object(s.g)(),{data:t,dispatch:a}=Object(r.useContext)($e);Object(r.useEffect)(()=>{(async e=>{let t=await M();t&&e({type:"totalOrders",payload:t})})(a)},[]);const c=()=>{let e=[];return void 0!==t.totalOrders.Orders&&t.totalOrders.Orders.forEach((function(t){x()(t.createdAt).format("LL")===x()().format("LL")&&(e=[...e,t])})),e};return l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"col-span-1 overflow-auto bg-white shadow-lg p-4"},l.a.createElement("div",{className:"text-2xl font-semibold mb-6 text-center"},"Today's Orders"," ",void 0!==t.totalOrders.Orders?c().length:0),l.a.createElement("table",{className:"table-auto border w-full my-2"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"px-4 py-2 border"},"Products"),l.a.createElement("th",{className:"px-4 py-2 border"},"Image"),l.a.createElement("th",{className:"px-4 py-2 border"},"Status"),l.a.createElement("th",{className:"px-4 py-2 border"},"Order Address"),l.a.createElement("th",{className:"px-4 py-2 border"},"Ordered at"))),l.a.createElement("tbody",null,void 0!==t.totalOrders.Orders?c().map((e,t)=>l.a.createElement(qe,{order:e,key:t})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"5",className:"text-xl text-center font-semibold py-8"},"No orders found today")))),l.a.createElement("div",{className:"text-sm text-gray-600 mt-2"},"Total"," ",void 0!==t.totalOrders.Orders?c().length:0," ","orders found"),l.a.createElement("div",{className:"flex justify-center"},l.a.createElement("span",{onClick:t=>e.push("/admin/dashboard/orders"),style:{background:"#303031"},className:"cursor-pointer px-4 py-2 text-white rounded-full"},"View All"))))},qe=e=>{let{order:t}=e;return l.a.createElement(r.Fragment,null,l.a.createElement("tr",null,l.a.createElement("td",{className:"w-48 hover:bg-gray-200 p-2 flex flex-col space-y-1"},t.allProduct.map((e,t)=>l.a.createElement("div",{key:t,className:"flex space-x-2"},l.a.createElement("span",null,e.id.pName),l.a.createElement("span",null,e.quantitiy,"x")))),l.a.createElement("td",{className:"p-2 text-left"},t.allProduct.map((e,t)=>l.a.createElement("img",{key:t,className:"w-12 h-12 object-cover",src:"".concat(Qe,"/uploads/products/").concat(e.id.pImages[0]),alt:"Pic"}))),l.a.createElement("td",{className:"p-2 text-center"},"Not processed"===t.status&&l.a.createElement("span",{className:"block text-red-600 rounded-full text-center text-xs px-2 font-semibold"},t.status),"Processing"===t.status&&l.a.createElement("span",{className:"block text-yellow-600 rounded-full text-center text-xs px-2 font-semibold"},t.status),"Shipped"===t.status&&l.a.createElement("span",{className:"block text-blue-600 rounded-full text-center text-xs px-2 font-semibold"},t.status),"Delivered"===t.status&&l.a.createElement("span",{className:"block text-green-600 rounded-full text-center text-xs px-2 font-semibold"},t.status),"Cancelled"===t.status&&l.a.createElement("span",{className:"block text-red-600 rounded-full text-center text-xs px-2 font-semibold"},t.status)),l.a.createElement("td",{className:"p-2 text-center"},t.address),l.a.createElement("td",{className:"p-2 text-center"},x()(t.createdAt).format("lll"))))};var Ye=e=>l.a.createElement("div",{className:"m-4"},l.a.createElement(Ke,null));const $e=Object(r.createContext)(),Ge=()=>l.a.createElement(r.Fragment,null,l.a.createElement(ze,null),l.a.createElement(Ve,null),l.a.createElement(Ye,null));var Xe=e=>{const[t,a]=Object(r.useReducer)(Je,Ue);return l.a.createElement(r.Fragment,null,l.a.createElement($e.Provider,{value:{data:t,dispatch:a}},l.a.createElement(Re,{children:l.a.createElement(Ge,null)})))};var Ze=e=>{const{data:t,dispatch:a}=Object(r.useContext)(nt),c=(e,t)=>l.a.createElement("div",{className:"bg-".concat(t,"-200 py-2 px-4 w-full")},e),[n,s]=Object(r.useState)({cName:"",cDescription:"",cImage:"",cStatus:"Active",success:!1,error:!1});(n.error||n.success)&&setTimeout(()=>{s({...n,success:!1,error:!1})},2e3);const o=async e=>{if(a({type:"loading",payload:!0}),e.preventDefault(),e.target.reset(),!n.cImage)return a({type:"loading",payload:!1}),s({...n,error:"Please upload a category image"});try{let e=await(async e=>{let{cName:t,cImage:a,cDescription:r,cStatus:l}=e,c=new FormData;c.append("cImage",a),c.append("cName",t),c.append("cDescription",r),c.append("cStatus",l);try{return(await d.a.post("".concat("http://localhost:8000","/api/category/add-category"),c,z())).data}catch(n){console.log(n)}})(n);e.success?((async()=>{let e=await W();e.Categories&&a({type:"fetchCategoryAndChangeState",payload:e.Categories})})(),s({...n,cName:"",cDescription:"",cImage:"",cStatus:"Active",success:e.success,error:!1}),a({type:"loading",payload:!1}),setTimeout(()=>{s({...n,cName:"",cDescription:"",cImage:"",cStatus:"Active",success:!1,error:!1})},2e3)):e.error&&(s({...n,success:!1,error:e.error}),a({type:"loading",payload:!1}),setTimeout(()=>s({...n,error:!1,success:!1}),2e3))}catch(t){console.log(t)}};return l.a.createElement(r.Fragment,null,l.a.createElement("div",{onClick:e=>a({type:"addCategoryModal",payload:!1}),className:"".concat(t.addCategoryModal?"":"hidden"," fixed top-0 left-0 z-30 w-full h-full bg-black opacity-50")}),l.a.createElement("div",{className:"".concat(t.addCategoryModal?"":"hidden"," fixed inset-0 m-4  flex items-center z-30 justify-center")},l.a.createElement("div",{className:"relative bg-white w-12/12 md:w-3/6 shadow-lg flex flex-col items-center space-y-4  overflow-y-auto px-4 py-4 md:px-8"},l.a.createElement("div",{className:"flex items-center justify-between w-full pt-4"},l.a.createElement("span",{className:"text-left font-semibold text-2xl tracking-wider"},"Add Category"),l.a.createElement("span",{style:{background:"#303031"},onClick:e=>a({type:"addCategoryModal",payload:!1}),className:"cursor-pointer text-gray-100 py-2 px-2 rounded-full"},l.a.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})))),n.error?c(n.error,"red"):"",n.success?c(n.success,"green"):"",l.a.createElement("form",{className:"w-full",onSubmit:e=>o(e)},l.a.createElement("div",{className:"flex flex-col space-y-1 w-full py-4"},l.a.createElement("label",{htmlFor:"name"},"Category Name"),l.a.createElement("input",{onChange:e=>s({...n,success:!1,error:!1,cName:e.target.value}),value:n.cName,className:"px-4 py-2 border focus:outline-none",type:"text"})),l.a.createElement("div",{className:"flex flex-col space-y-1 w-full"},l.a.createElement("label",{htmlFor:"description"},"Category Description"),l.a.createElement("textarea",{onChange:e=>s({...n,success:!1,error:!1,cDescription:e.target.value}),value:n.cDescription,className:"px-4 py-2 border focus:outline-none",name:"description",id:"description",cols:5,rows:5})),l.a.createElement("div",{className:"flex flex-col space-y-1 w-full"},l.a.createElement("label",{htmlFor:"name"},"Category Image"),l.a.createElement("input",{accept:".jpg, .jpeg, .png",onChange:e=>{s({...n,success:!1,error:!1,cImage:e.target.files[0]})},className:"px-4 py-2 border focus:outline-none",type:"file"})),l.a.createElement("div",{className:"flex flex-col space-y-1 w-full"},l.a.createElement("label",{htmlFor:"status"},"Category Status"),l.a.createElement("select",{name:"status",onChange:e=>s({...n,success:!1,error:!1,cStatus:e.target.value}),className:"px-4 py-2 border focus:outline-none",id:"status"},l.a.createElement("option",{name:"status",value:"Active"},"Active"),l.a.createElement("option",{name:"status",value:"Disabled"},"Disabled"))),l.a.createElement("div",{className:"flex flex-col space-y-1 w-full pb-4 md:pb-6 mt-4"},l.a.createElement("button",{style:{background:"#303031"},type:"submit",className:"bg-gray-800 text-gray-100 rounded-full text-lg font-medium py-2"},"Create category"))))))};var et=e=>{const{data:t,dispatch:a}=Object(r.useContext)(nt),[c,n]=Object(r.useState)(""),[s,o]=Object(r.useState)(""),[m,i]=Object(r.useState)("");Object(r.useEffect)(()=>{n(t.editCategoryModal.des),o(t.editCategoryModal.status),i(t.editCategoryModal.cId)},[t.editCategoryModal.modal]);const p=async()=>{a({type:"loading",payload:!0});let e=await(async(e,t,a)=>{let r={cId:e,cDescription:t,cStatus:a};try{return(await d.a.post("".concat("http://localhost:8000","/api/category/edit-category"),r,z())).data}catch(l){console.log(l)}})(m,c,s);e.error?(console.log(e.error),a({type:"loading",payload:!1})):e.success&&(console.log(e.success),a({type:"editCategoryModalClose"}),setTimeout(()=>{(async()=>{let e=await W();e.Categories&&a({type:"fetchCategoryAndChangeState",payload:e.Categories})})(),a({type:"loading",payload:!1})},1e3))};return l.a.createElement(r.Fragment,null,l.a.createElement("div",{onClick:e=>a({type:"editCategoryModalClose"}),className:"".concat(t.editCategoryModal.modal?"":"hidden"," fixed top-0 left-0 z-30 w-full h-full bg-black opacity-50")}),l.a.createElement("div",{className:"".concat(t.editCategoryModal.modal?"":"hidden"," fixed inset-0 m-4  flex items-center z-30 justify-center")},l.a.createElement("div",{className:"relative bg-white w-11/12 md:w-3/6 shadow-lg flex flex-col items-center space-y-4  overflow-y-auto px-4 py-4 md:px-8"},l.a.createElement("div",{className:"flex items-center justify-between w-full pt-4"},l.a.createElement("span",{className:"text-left font-semibold text-2xl tracking-wider"},"Add Category"),l.a.createElement("span",{style:{background:"#303031"},onClick:e=>a({type:"editCategoryModalClose"}),className:"cursor-pointer text-gray-100 py-2 px-2 rounded-full"},l.a.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})))),l.a.createElement("div",{className:"flex flex-col space-y-1 w-full"},l.a.createElement("label",{htmlFor:"description"},"Category Description"),l.a.createElement("textarea",{value:c,onChange:e=>n(e.target.value),className:"px-4 py-2 border focus:outline-none",name:"description",id:"description",cols:5,rows:5})),l.a.createElement("div",{className:"flex flex-col space-y-1 w-full"},l.a.createElement("label",{htmlFor:"status"},"Category Status"),l.a.createElement("select",{value:s,name:"status",onChange:e=>o(e.target.value),className:"px-4 py-2 border focus:outline-none",id:"status"},l.a.createElement("option",{name:"status",value:"Active"},"Active"),l.a.createElement("option",{name:"status",value:"Disabled"},"Disabled"))),l.a.createElement("div",{className:"flex flex-col space-y-1 w-full pb-4 md:pb-6"},l.a.createElement("button",{style:{background:"#303031"},onClick:e=>p(),className:"rounded-full bg-gray-800 text-gray-100 text-lg font-medium py-2"},"Create category")))))};var tt=e=>{const{dispatch:t}=Object(r.useContext)(nt);return l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"col-span-1 flex items-center"},l.a.createElement("div",{className:"flex flex-col space-y-4 md:flex-row md:justify-between md:items-center w-full"},l.a.createElement("div",{style:{background:"#303031"},onClick:e=>t({type:"addCategoryModal",payload:!0}),className:"cursor-pointer rounded-full p-2 flex items-center justify-center text-gray-100 text-sm font-semibold uppercase"},l.a.createElement("svg",{className:"w-6 h-6 text-gray-100 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"})),"Add Category")),l.a.createElement(Ze,null),l.a.createElement(et,null)))};const at=e=>{let{category:t,deleteCat:a,editCat:c}=e;return l.a.createElement(r.Fragment,null,l.a.createElement("tr",null,l.a.createElement("td",{className:"p-2 text-left"},t.cName.length>20?t.cName.slice(0,20)+"...":t.cName),l.a.createElement("td",{className:"p-2 text-left"},t.cDescription.length>30?t.cDescription.slice(0,30)+"...":t.cDescription),l.a.createElement("td",{className:"p-2 text-center"},l.a.createElement("img",{className:"w-12 h-12 object-cover object-center",src:"".concat("http://localhost:8000","/uploads/categories/").concat(t.cImage),alt:""})),l.a.createElement("td",{className:"p-2 text-center"},"Active"===t.cStatus?l.a.createElement("span",{className:"bg-green-200 rounded-full text-center text-xs px-2 font-semibold"},t.cStatus):l.a.createElement("span",{className:"bg-red-200 rounded-full text-center text-xs px-2 font-semibold"},t.cStatus)),l.a.createElement("td",{className:"p-2 text-center"},x()(t.createdAt).format("lll")),l.a.createElement("td",{className:"p-2 text-center"},x()(t.updatedAt).format("lll")),l.a.createElement("td",{className:"p-2 flex items-center justify-center"},l.a.createElement("span",{onClick:e=>c(t._id,!0,t.cDescription,t.cStatus),className:"cursor-pointer hover:bg-gray-200 rounded-lg p-2 mx-1"},l.a.createElement("svg",{className:"w-6 h-6 fill-current text-green-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),l.a.createElement("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"}))),l.a.createElement("span",{onClick:e=>a(t._id),className:"cursor-pointer hover:bg-gray-200 rounded-lg p-2 mx-1"},l.a.createElement("svg",{className:"w-6 h-6 fill-current text-red-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"}))))))};var rt=e=>{const{data:t,dispatch:a}=Object(r.useContext)(nt),{categories:c,loading:n}=t;Object(r.useEffect)(()=>{s()},[]);const s=async()=>{a({type:"loading",payload:!0});let e=await W();setTimeout(()=>{e&&e.Categories&&(a({type:"fetchCategoryAndChangeState",payload:e.Categories}),a({type:"loading",payload:!1}))},1e3)},o=async e=>{let t=await(async e=>{try{return(await d.a.post("".concat("http://localhost:8000","/api/category/delete-category"),{cId:e},z())).data}catch(t){console.log(t)}})(e);t.error?console.log(t.error):t.success&&(console.log(t.success),s())};return n?l.a.createElement("div",{className:"flex items-center justify-center p-8"},l.a.createElement("svg",{className:"w-12 h-12 animate-spin text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"}))):l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"col-span-1 overflow-auto bg-white shadow-lg p-4"},l.a.createElement("table",{className:"table-auto border w-full my-2"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"px-4 py-2 border"},"Category"),l.a.createElement("th",{className:"px-4 py-2 border"},"Description"),l.a.createElement("th",{className:"px-4 py-2 border"},"Image"),l.a.createElement("th",{className:"px-4 py-2 border"},"Status"),l.a.createElement("th",{className:"px-4 py-2 border"},"Created at"),l.a.createElement("th",{className:"px-4 py-2 border"},"Updated at"),l.a.createElement("th",{className:"px-4 py-2 border"},"Actions"))),l.a.createElement("tbody",null,c&&c.length>0?c.map((e,t)=>l.a.createElement(at,{category:e,editCat:(e,t,r,l)=>((e,t,r,l)=>{t&&a({type:"editCategoryModalOpen",cId:e,des:r,status:l})})(e,t,r,l),deleteCat:e=>o(e),key:t})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"7",className:"text-xl text-center font-semibold py-8"},"No category found")))),l.a.createElement("div",{className:"text-sm text-gray-600 mt-2"},"Total ",c&&c.length," category found")))};const lt={categories:[],addCategoryModal:!1,editCategoryModal:{modal:!1,cId:null,des:"",status:""},loading:!1},ct=(e,t)=>{switch(t.type){case"fetchCategoryAndChangeState":return{...e,categories:t.payload};case"addCategoryModal":return{...e,addCategoryModal:t.payload};case"editCategoryModalOpen":return{...e,editCategoryModal:{modal:!0,cId:t.cId,des:t.des,status:t.status}};case"editCategoryModalClose":return{...e,editCategoryModal:{modal:!1,cId:null,des:"",status:""}};case"loading":return{...e,loading:t.payload};default:return e}},nt=Object(r.createContext)(),st=()=>l.a.createElement("div",{className:"grid grid-cols-1 space-y-4 p-4"},l.a.createElement(tt,null),l.a.createElement(rt,null));var ot=e=>{const[t,a]=Object(r.useReducer)(ct,lt);return l.a.createElement(r.Fragment,null,l.a.createElement(nt.Provider,{value:{data:t,dispatch:a}},l.a.createElement(Re,{children:l.a.createElement(st,null)})))};const mt=e=>{let{categories:t}=e;const{data:a,dispatch:c}=Object(r.useContext)(Et),n=(e,t)=>l.a.createElement("div",{className:"bg-".concat(t,"-200 py-2 px-4 w-full")},e),[s,o]=Object(r.useState)({pName:"",pDescription:"",pStatus:"Active",pImage:null,pCategory:"",pPrice:"",pOffer:0,pQuantity:"",success:!1,error:!1}),m=async e=>{e.preventDefault(),e.target.reset(),console.log("here1"),s.pImage||(o({...s,error:"Please upload at least 2 image"}),setTimeout(()=>{o({...s,error:!1})},2e3));try{let e=await(async e=>{let{pName:t,pDescription:a,pImage:r,pStatus:l,pCategory:c,pQuantity:n,pPrice:s,pOffer:o}=e;console.log("here2");let m=new FormData;for(const d of r)m.append("pImage",d);m.append("pName",t),m.append("pDescription",a),m.append("pStatus",l),m.append("pCategory",c),m.append("pQuantity",n),m.append("pPrice",s),m.append("pOffer",o);try{return(await d.a.post("".concat("http://localhost:8000","/api/product/add-product"),m)).data}catch(i){console.log(i)}})(s);e.success?((async()=>{let e=await H();setTimeout(()=>{e&&e.Products&&c({type:"fetchProductsAndChangeState",payload:e.Products})},1e3)})(),o({...s,pName:"",pDescription:"",pImage:"",pStatus:"Active",pCategory:"",pPrice:"",pQuantity:"",pOffer:0,success:e.success,error:!1}),setTimeout(()=>{o({...s,pName:"",pDescription:"",pImage:"",pStatus:"Active",pCategory:"",pPrice:"",pQuantity:"",pOffer:0,success:!1,error:!1})},2e3)):e.error&&(o({...s,success:!1,error:e.error}),setTimeout(()=>o({...s,error:!1,success:!1}),2e3))}catch(t){console.log(t)}};return l.a.createElement(r.Fragment,null,l.a.createElement("div",{onClick:e=>c({type:"addProductModal",payload:!1}),className:"".concat(a.addProductModal?"":"hidden"," fixed top-0 left-0 z-30 w-full h-full bg-black opacity-50")}),l.a.createElement("div",{className:"".concat(a.addProductModal?"":"hidden"," fixed inset-0 flex items-center z-30 justify-center overflow-auto")},l.a.createElement("div",{className:"mt-32 md:mt-0 relative bg-white w-11/12 md:w-3/6 shadow-lg flex flex-col items-center space-y-4 px-4 py-4 md:px-8"},l.a.createElement("div",{className:"flex items-center justify-between w-full pt-4"},l.a.createElement("span",{className:"text-left font-semibold text-2xl tracking-wider"},"Add Product"),l.a.createElement("span",{style:{background:"#303031"},onClick:e=>c({type:"addProductModal",payload:!1}),className:"cursor-pointer text-gray-100 py-2 px-2 rounded-full"},l.a.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})))),s.error?n(s.error,"red"):"",s.success?n(s.success,"green"):"",l.a.createElement("form",{className:"w-full",onSubmit:e=>m(e)},l.a.createElement("div",{className:"flex space-x-1 py-4"},l.a.createElement("div",{className:"w-1/2 flex flex-col space-y-1 space-x-1"},l.a.createElement("label",{htmlFor:"name"},"Product Name *"),l.a.createElement("input",{value:s.pName,onChange:e=>o({...s,error:!1,success:!1,pName:e.target.value}),className:"px-4 py-2 border focus:outline-none",type:"text"})),l.a.createElement("div",{className:"w-1/2 flex flex-col space-y-1 space-x-1"},l.a.createElement("label",{htmlFor:"price"},"Product Price *"),l.a.createElement("input",{value:s.pPrice,onChange:e=>o({...s,error:!1,success:!1,pPrice:e.target.value}),type:"number",className:"px-4 py-2 border focus:outline-none",id:"price"}))),l.a.createElement("div",{className:"flex flex-col space-y-2"},l.a.createElement("label",{htmlFor:"description"},"Product Description *"),l.a.createElement("textarea",{value:s.pDescription,onChange:e=>o({...s,error:!1,success:!1,pDescription:e.target.value}),className:"px-4 py-2 border focus:outline-none",name:"description",id:"description",cols:5,rows:2})),l.a.createElement("div",{className:"flex flex-col mt-4"},l.a.createElement("label",{htmlFor:"image"},"Product Images *"),l.a.createElement("span",{className:"text-gray-600 text-xs"},"Must need 2 images"),l.a.createElement("input",{onChange:e=>o({...s,error:!1,success:!1,pImage:[...e.target.files]}),type:"file",accept:".jpg, .jpeg, .png",className:"px-4 py-2 border focus:outline-none",id:"image",multiple:"multiple"})),l.a.createElement("div",{className:"flex space-x-1 py-4"},l.a.createElement("div",{className:"w-1/2 flex flex-col space-y-1"},l.a.createElement("label",{htmlFor:"status"},"Product Status *"),l.a.createElement("select",{value:s.pStatus,onChange:e=>o({...s,error:!1,success:!1,pStatus:e.target.value}),name:"status",className:"px-4 py-2 border focus:outline-none",id:"status"},l.a.createElement("option",{name:"status",value:"Active"},"Active"),l.a.createElement("option",{name:"status",value:"Disabled"},"Disabled"))),l.a.createElement("div",{className:"w-1/2 flex flex-col space-y-1"},l.a.createElement("label",{htmlFor:"status"},"Product Category *"),l.a.createElement("select",{value:s.pCategory,onChange:e=>o({...s,error:!1,success:!1,pCategory:e.target.value}),name:"status",className:"px-4 py-2 border focus:outline-none",id:"status"},l.a.createElement("option",{disabled:!0,value:""},"Select a category"),t.length>0?t.map((function(e){return l.a.createElement("option",{name:"status",value:e._id,key:e._id},e.cName)})):""))),l.a.createElement("div",{className:"flex space-x-1 py-4"},l.a.createElement("div",{className:"w-1/2 flex flex-col space-y-1"},l.a.createElement("label",{htmlFor:"quantity"},"Product in Stock *"),l.a.createElement("input",{value:s.pQuantity,onChange:e=>o({...s,error:!1,success:!1,pQuantity:e.target.value}),type:"number",className:"px-4 py-2 border focus:outline-none",id:"quantity"})),l.a.createElement("div",{className:"w-1/2 flex flex-col space-y-1"},l.a.createElement("label",{htmlFor:"offer"},"Product Offfer (%) *"),l.a.createElement("input",{value:s.pOffer,onChange:e=>o({...s,error:!1,success:!1,pOffer:e.target.value}),type:"number",className:"px-4 py-2 border focus:outline-none",id:"offer"}))),l.a.createElement("div",{className:"flex flex-col space-y-1 w-full pb-4 md:pb-6 mt-4"},l.a.createElement("button",{style:{background:"#303031"},type:"submit",className:"rounded-full bg-gray-800 text-gray-100 text-lg font-medium py-2"},"Create product"))))))};var dt=e=>{Object(r.useEffect)(()=>{c()},[]);const[t,a]=Object(r.useState)({}),c=async()=>{let e=await W();e.Categories&&a(e.Categories)};return l.a.createElement(r.Fragment,null,l.a.createElement(mt,{categories:t}))};const it=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_URL;var pt=e=>{const{data:t,dispatch:a}=Object(r.useContext)(Et),[c,n]=Object(r.useState)(null),s=(e,t)=>l.a.createElement("div",{className:"bg-".concat(t,"-200 py-2 px-4 w-full")},e),[o,m]=Object(r.useState)({pId:"",pName:"",pDescription:"",pImages:null,pEditImages:null,pStatus:"",pCategory:"",pQuantity:"",pPrice:"",pOffer:"",error:!1,success:!1});Object(r.useEffect)(()=>{i()},[]);const i=async()=>{let e=await W();e.Categories&&n(e.Categories)};Object(r.useEffect)(()=>{m({pId:t.editProductModal.pId,pName:t.editProductModal.pName,pDescription:t.editProductModal.pDescription,pImages:t.editProductModal.pImages,pStatus:t.editProductModal.pStatus,pCategory:t.editProductModal.pCategory,pQuantity:t.editProductModal.pQuantity,pPrice:t.editProductModal.pPrice,pOffer:t.editProductModal.pOffer})},[t.editProductModal]);const p=async e=>{e.preventDefault(),o.pEditImages?console.log("Image uploading"):console.log("Image Not upload=============",o);try{let e=await(async e=>{console.log(e);let t=new FormData;if(e.pEditImages)for(const r of e.pEditImages)t.append("pEditImages",r);t.append("pId",e.pId),t.append("pName",e.pName),t.append("pDescription",e.pDescription),t.append("pStatus",e.pStatus),t.append("pCategory",e.pCategory._id),t.append("pQuantity",e.pQuantity),t.append("pPrice",e.pPrice),t.append("pOffer",e.pOffer),t.append("pImages",e.pImages);try{return(await d.a.post("".concat("http://localhost:8000","/api/product/edit-product"),t)).data}catch(a){console.log(a)}})(o);e.success?((async()=>{let e=await H();e&&e.Products&&a({type:"fetchProductsAndChangeState",payload:e.Products})})(),m({...o,success:e.success}),setTimeout(()=>m({...o,success:e.success}),2e3)):e.error&&(m({...o,error:e.error}),setTimeout(()=>m({...o,error:e.error}),2e3))}catch(t){console.log(t)}};return l.a.createElement(r.Fragment,null,l.a.createElement("div",{onClick:e=>a({type:"editProductModalClose",payload:!1}),className:"".concat(t.editProductModal.modal?"":"hidden"," fixed top-0 left-0 z-30 w-full h-full bg-black opacity-50")}),l.a.createElement("div",{className:"".concat(t.editProductModal.modal?"":"hidden"," fixed inset-0 flex items-center z-30 justify-center overflow-auto")},l.a.createElement("div",{className:"mt-32 md:mt-0 relative bg-white w-11/12 md:w-3/6 shadow-lg flex flex-col items-center space-y-4 px-4 py-4 md:px-8"},l.a.createElement("div",{className:"flex items-center justify-between w-full pt-4"},l.a.createElement("span",{className:"text-left font-semibold text-2xl tracking-wider"},"Edit Product"),l.a.createElement("span",{style:{background:"#303031"},onClick:e=>a({type:"editProductModalClose",payload:!1}),className:"cursor-pointer text-gray-100 py-2 px-2 rounded-full"},l.a.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})))),o.error?s(o.error,"red"):"",o.success?s(o.success,"green"):"",l.a.createElement("form",{className:"w-full",onSubmit:e=>p(e)},l.a.createElement("div",{className:"flex space-x-1 py-4"},l.a.createElement("div",{className:"w-1/2 flex flex-col space-y-1 space-x-1"},l.a.createElement("label",{htmlFor:"name"},"Product Name *"),l.a.createElement("input",{value:o.pName,onChange:e=>m({...o,error:!1,success:!1,pName:e.target.value}),className:"px-4 py-2 border focus:outline-none",type:"text"})),l.a.createElement("div",{className:"w-1/2 flex flex-col space-y-1 space-x-1"},l.a.createElement("label",{htmlFor:"price"},"Product Price *"),l.a.createElement("input",{value:o.pPrice,onChange:e=>m({...o,error:!1,success:!1,pPrice:e.target.value}),type:"number",className:"px-4 py-2 border focus:outline-none",id:"price"}))),l.a.createElement("div",{className:"flex flex-col space-y-2"},l.a.createElement("label",{htmlFor:"description"},"Product Description *"),l.a.createElement("textarea",{value:o.pDescription,onChange:e=>m({...o,error:!1,success:!1,pDescription:e.target.value}),className:"px-4 py-2 border focus:outline-none",name:"description",id:"description",cols:5,rows:2})),l.a.createElement("div",{className:"flex flex-col mt-4"},l.a.createElement("label",{htmlFor:"image"},"Product Images *"),o.pImages?l.a.createElement("div",{className:"flex space-x-1"},l.a.createElement("img",{className:"h-16 w-16 object-cover",src:"".concat(it,"/uploads/products/").concat(o.pImages[0]),alt:"productImage"}),l.a.createElement("img",{className:"h-16 w-16 object-cover",src:"".concat(it,"/uploads/products/").concat(o.pImages[1]),alt:"productImage"})):"",l.a.createElement("span",{className:"text-gray-600 text-xs"},"Must need 2 images"),l.a.createElement("input",{onChange:e=>m({...o,error:!1,success:!1,pEditImages:[...e.target.files]}),type:"file",accept:".jpg, .jpeg, .png",className:"px-4 py-2 border focus:outline-none",id:"image",multiple:!0})),l.a.createElement("div",{className:"flex space-x-1 py-4"},l.a.createElement("div",{className:"w-1/2 flex flex-col space-y-1"},l.a.createElement("label",{htmlFor:"status"},"Product Status *"),l.a.createElement("select",{value:o.pStatus,onChange:e=>m({...o,error:!1,success:!1,pStatus:e.target.value}),name:"status",className:"px-4 py-2 border focus:outline-none",id:"status"},l.a.createElement("option",{name:"status",value:"Active"},"Active"),l.a.createElement("option",{name:"status",value:"Disabled"},"Disabled"))),l.a.createElement("div",{className:"w-1/2 flex flex-col space-y-1"},l.a.createElement("label",{htmlFor:"status"},"Product Category *"),l.a.createElement("select",{onChange:e=>m({...o,error:!1,success:!1,pCategory:e.target.value}),name:"status",className:"px-4 py-2 border focus:outline-none",id:"status"},l.a.createElement("option",{disabled:!0,value:""},"Select a category"),c&&c.length>0?c.map(e=>l.a.createElement(r.Fragment,{key:e._id},o.pCategory._id&&o.pCategory._id===e._id?l.a.createElement("option",{name:"status",value:e._id,key:e._id,selected:!0},e.cName):l.a.createElement("option",{name:"status",value:e._id,key:e._id},e.cName))):""))),l.a.createElement("div",{className:"flex space-x-1 py-4"},l.a.createElement("div",{className:"w-1/2 flex flex-col space-y-1"},l.a.createElement("label",{htmlFor:"quantity"},"Product in Stock *"),l.a.createElement("input",{value:o.pQuantity,onChange:e=>m({...o,error:!1,success:!1,pQuantity:e.target.value}),type:"number",className:"px-4 py-2 border focus:outline-none",id:"quantity"})),l.a.createElement("div",{className:"w-1/2 flex flex-col space-y-1"},l.a.createElement("label",{htmlFor:"offer"},"Product Offfer (%) *"),l.a.createElement("input",{value:o.pOffer,onChange:e=>m({...o,error:!1,success:!1,pOffer:e.target.value}),type:"number",className:"px-4 py-2 border focus:outline-none",id:"offer"}))),l.a.createElement("div",{className:"flex flex-col space-y-1 w-full pb-4 md:pb-6 mt-4"},l.a.createElement("button",{style:{background:"#303031"},type:"submit",className:"rounded-full bg-gray-800 text-gray-100 text-lg font-medium py-2"},"Update product"))))))};var ut=e=>{const{dispatch:t}=Object(r.useContext)(Et);return l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"col-span-1 flex justify-between items-center"},l.a.createElement("div",{className:"flex items-center"},l.a.createElement("span",{style:{background:"#303031"},onClick:e=>t({type:"addProductModal",payload:!0}),className:"rounded-full cursor-pointer p-2 bg-gray-800 flex items-center text-gray-100 text-sm font-semibold uppercase"},l.a.createElement("svg",{className:"w-6 h-6 text-gray-100 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"})),"Add Product")),l.a.createElement(dt,null),l.a.createElement(pt,null)))};const gt=e=>{let{product:t,deleteProduct:a,editProduct:c}=e;return l.a.createElement(r.Fragment,null,l.a.createElement("tr",null,l.a.createElement("td",{className:"p-2 text-left"},t.pName.length>15?t.pDescription.substring(1,15)+"...":t.pName),l.a.createElement("td",{className:"p-2 text-left"},t.pDescription.slice(0,15),"..."),l.a.createElement("td",{className:"p-2 text-center"},l.a.createElement("img",{className:"w-12 h-12 object-cover object-center",src:"".concat("http://localhost:8000","/uploads/products/").concat(t.pImages[0]),alt:"pic"})),l.a.createElement("td",{className:"p-2 text-center"},"Active"===t.pStatus?l.a.createElement("span",{className:"bg-green-200 rounded-full text-center text-xs px-2 font-semibold"},t.pStatus):l.a.createElement("span",{className:"bg-red-200 rounded-full text-center text-xs px-2 font-semibold"},t.pStatus)),l.a.createElement("td",{className:"p-2 text-center"},t.pQuantity),l.a.createElement("td",{className:"p-2 text-center"},t.pCategory.cName),l.a.createElement("td",{className:"p-2 text-center"},t.pOffer),l.a.createElement("td",{className:"p-2 text-center"},x()(t.createdAt).format("lll")),l.a.createElement("td",{className:"p-2 text-center"},x()(t.updatedAt).format("lll")),l.a.createElement("td",{className:"p-2 flex items-center justify-center"},l.a.createElement("span",{onClick:e=>c(t._id,t,!0),className:"cursor-pointer hover:bg-gray-200 rounded-lg p-2 mx-1"},l.a.createElement("svg",{className:"w-6 h-6 fill-current text-green-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),l.a.createElement("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"}))),l.a.createElement("span",{onClick:e=>a(t._id),className:"cursor-pointer hover:bg-gray-200 rounded-lg p-2 mx-1"},l.a.createElement("svg",{className:"w-6 h-6 fill-current text-red-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"}))))))};var xt=e=>{const{data:t,dispatch:a}=Object(r.useContext)(Et),{products:c}=t,[n,s]=Object(r.useState)(!1);Object(r.useEffect)(()=>{o()},[]);const o=async()=>{s(!0);let e=await H();setTimeout(()=>{e&&e.Products&&(a({type:"fetchProductsAndChangeState",payload:e.Products}),s(!1))},1e3)},m=async e=>{let t=await(async e=>{try{return(await d.a.post("".concat("http://localhost:8000","/api/product/delete-product"),{pId:e})).data}catch(t){console.log(t)}})(e);t.error?console.log(t.error):t.success&&(console.log(t.success),o())};return n?l.a.createElement("div",{className:"flex items-center justify-center p-8"},l.a.createElement("svg",{className:"w-12 h-12 animate-spin text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"}))):l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"col-span-1 overflow-auto bg-white shadow-lg p-4"},l.a.createElement("table",{className:"table-auto border w-full my-2"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"px-4 py-2 border"},"Product"),l.a.createElement("th",{className:"px-4 py-2 border"},"Description"),l.a.createElement("th",{className:"px-4 py-2 border"},"Image"),l.a.createElement("th",{className:"px-4 py-2 border"},"Status"),l.a.createElement("th",{className:"px-4 py-2 border"},"Stock"),l.a.createElement("th",{className:"px-4 py-2 border"},"Category"),l.a.createElement("th",{className:"px-4 py-2 border"},"Offer"),l.a.createElement("th",{className:"px-4 py-2 border"},"Created at"),l.a.createElement("th",{className:"px-4 py-2 border"},"Updated at"),l.a.createElement("th",{className:"px-4 py-2 border"},"Actions"))),l.a.createElement("tbody",null,c&&c.length>0?c.map((e,t)=>l.a.createElement(gt,{product:e,editProduct:(e,t,r)=>((e,t,r)=>{r&&a({type:"editProductModalOpen",product:{...t,pId:e}})})(e,t,r),deleteProduct:e=>m(e),key:t})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"10",className:"text-xl text-center font-semibold py-8"},"No product found")))),l.a.createElement("div",{className:"text-sm text-gray-600 mt-2"},"Total ",c&&c.length," product found")))};const ht={products:null,addProductModal:!1,editProductModal:{modal:!1,pId:"",pName:"",pDescription:"",pImages:null,pStatus:"",pCategory:"",pQuantity:"",pPrice:"",pOffer:""}},yt=(e,t)=>{switch(t.type){case"fetchProductsAndChangeState":return{...e,products:t.payload};case"addProductModal":return{...e,addProductModal:t.payload};case"editProductModalOpen":return{...e,editProductModal:{modal:!0,pId:t.product.pId,pName:t.product.pName,pDescription:t.product.pDescription,pImages:t.product.pImages,pStatus:t.product.pStatus,pCategory:t.product.pCategory,pQuantity:t.product.pQuantity,pPrice:t.product.pPrice,pOffer:t.product.pOffer}};case"editProductModalClose":return{...e,editProductModal:{modal:!1,pId:"",pName:"",pDescription:"",pImages:null,pStatus:"",pCategory:"",pQuantity:"",pPrice:"",pOffer:""}};default:return e}},Et=Object(r.createContext)(),wt=()=>l.a.createElement("div",{className:"grid grid-cols-1 space-y-4 p-4"},l.a.createElement(ut,null),l.a.createElement(xt,null));var vt=e=>{const[t,a]=Object(r.useReducer)(yt,ht);return l.a.createElement(r.Fragment,null,l.a.createElement(Et.Provider,{value:{data:t,dispatch:a}},l.a.createElement(Re,{children:l.a.createElement(wt,null)})))};var ft=e=>{const{data:t,dispatch:a}=Object(r.useContext)(It),[c,n]=Object(r.useState)(""),[s,o]=Object(r.useState)("");Object(r.useEffect)(()=>{o(t.updateOrderModal.oId),n(t.updateOrderModal.status)},[t.updateOrderModal.modal]);const m=async()=>{a({type:"loading",payload:!0});let e=await(async(e,t)=>{let a={oId:e,status:t};console.log(a);try{return(await d.a.post("http://localhost:8000/api/order/update-order",a)).data}catch(r){console.log(r)}})(s,c);e.error?a({type:"loading",payload:!1}):e.success&&(console.log(e.success),a({type:"updateOrderModalClose"}),(async()=>{let e=await M();e.Orders&&a({type:"fetchOrderAndChangeState",payload:e.Orders})})(),a({type:"loading",payload:!1}))};return l.a.createElement(r.Fragment,null,l.a.createElement("div",{onClick:e=>a({type:"updateOrderModalClose"}),className:"".concat(t.updateOrderModal.modal?"":"hidden"," fixed top-0 left-0 z-30 w-full h-full bg-black opacity-50")}),l.a.createElement("div",{className:"".concat(t.updateOrderModal.modal?"":"hidden"," fixed inset-0 m-4  flex items-center z-30 justify-center")},l.a.createElement("div",{className:"relative bg-white w-11/12 md:w-3/6 shadow-lg flex flex-col items-center space-y-4  overflow-y-auto px-4 py-4 md:px-8"},l.a.createElement("div",{className:"flex items-center justify-between w-full pt-4"},l.a.createElement("span",{className:"text-left font-semibold text-2xl tracking-wider"},"Update Order"),l.a.createElement("span",{style:{background:"#303031"},onClick:e=>a({type:"updateOrderModalClose"}),className:"cursor-pointer text-gray-100 py-2 px-2 rounded-full"},l.a.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})))),l.a.createElement("div",{className:"flex flex-col space-y-1 w-full"},l.a.createElement("label",{htmlFor:"status"},"Order Status"),l.a.createElement("select",{value:c,name:"status",onChange:e=>n(e.target.value),className:"px-4 py-2 border focus:outline-none",id:"status"},l.a.createElement("option",{name:"status",value:"Not processed"},"Not processed"),l.a.createElement("option",{name:"status",value:"Processing"},"Processing"),l.a.createElement("option",{name:"status",value:"Shipped"},"Shipped"),l.a.createElement("option",{name:"status",value:"Delivered"},"Delivered"),l.a.createElement("option",{name:"status",value:"Cancelled"},"Cancelled"))),l.a.createElement("div",{className:"flex flex-col space-y-1 w-full pb-4 md:pb-6"},l.a.createElement("button",{style:{background:"#303031"},onClick:e=>m(),className:"rounded-full bg-gray-800 text-gray-100 text-lg font-medium py-2"},"Update category")))))};var bt=e=>l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"rounded-full flex items-center justify-between overflow-hidden"},l.a.createElement("span",{style:{background:"#303031"},className:"py-2 px-3"},l.a.createElement("svg",{className:"rounded-l-full w-6 h-6 text-gray-100",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"}))),l.a.createElement("input",{placeholder:"Transaction id...",className:"py-2 px-2 focus:outline-none rounded-r-full w-full",type:"text"})));const Nt=async e=>{e({type:"loading",payload:!0});let t=await M();setTimeout(()=>{t&&t.Orders&&(e({type:"fetchOrderAndChangeState",payload:t.Orders}),e({type:"loading",payload:!1}))},1e3)},kt=async(e,t)=>{let a=await(async e=>{let t={oId:e};try{return(await d.a.post("http://localhost:8000/api/order/delete-order",t)).data}catch(a){console.log(a)}})(e);console.log(a),a&&a.success&&Nt(t)},Ct=async(e,t,a,r,l)=>{let c=await M();if(c&&c.Orders){let t;"All"===e?(a({type:"fetchOrderAndChangeState",payload:c.Orders}),l(!r)):"Not processed"===e?(t=c.Orders.filter(e=>"Not processed"===e.status),a({type:"fetchOrderAndChangeState",payload:t}),l(!r)):"Processing"===e?(t=c.Orders.filter(e=>"Processing"===e.status),a({type:"fetchOrderAndChangeState",payload:t}),l(!r)):"Shipped"===e?(t=c.Orders.filter(e=>"Shipped"===e.status),a({type:"fetchOrderAndChangeState",payload:t}),l(!r)):"Delivered"===e?(t=c.Orders.filter(e=>"Delivered"===e.status),a({type:"fetchOrderAndChangeState",payload:t}),l(!r)):"Cancelled"===e&&(t=c.Orders.filter(e=>"Cancelled"===e.status),a({type:"fetchOrderAndChangeState",payload:t}),l(!r))}};var jt=e=>{const{data:t,dispatch:a}=Object(r.useContext)(It),[c,n]=Object(r.useState)(!1);return l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"col-span-1 flex items-center"},l.a.createElement("div",{className:"flex flex-col space-y-4 md:flex-row md:justify-between md:items-center md:space-y-0 w-full"},l.a.createElement("div",{style:{background:"#303031"},className:"relative rounded-full text-gray-100 text-sm font-semibold uppercase"},l.a.createElement("div",{onClick:e=>n(!c),className:"flex items-center cursor-pointer rounded-full overflow-hidden p-2 justify-center"},l.a.createElement("svg",{className:"w-6 h-6 text-gray-100 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{d:"M5 4a1 1 0 00-2 0v7.268a2 2 0 000 3.464V16a1 1 0 102 0v-1.268a2 2 0 000-3.464V4zM11 4a1 1 0 10-2 0v1.268a2 2 0 000 3.464V16a1 1 0 102 0V8.732a2 2 0 000-3.464V4zM16 3a1 1 0 011 1v7.268a2 2 0 010 3.464V16a1 1 0 11-2 0v-1.268a2 2 0 010-3.464V4a1 1 0 011-1z"})),l.a.createElement("span",{className:"pr-2"},"Filter")),l.a.createElement("div",{style:{background:"#303031"},className:"".concat(c?"":"hidden"," absolute top-0 left-0 mt-12 rounded-lg overflow-hidden w-full md:w-48 flex flex-col z-10")},l.a.createElement("span",{onClick:e=>Ct("All",0,a,c,n),className:"px-4 py-2 hover:bg-black text-center cursor-pointer"},"All"),l.a.createElement("span",{onClick:e=>Ct("Not processed",0,a,c,n),className:"px-4 py-2 hover:bg-black text-center cursor-pointer"},"Not processed"),l.a.createElement("span",{onClick:e=>Ct("Processing",0,a,c,n),className:"px-4 py-2 hover:bg-black text-center cursor-pointer"},"Processing"),l.a.createElement("span",{onClick:e=>Ct("Shipped",0,a,c,n),className:"px-4 py-2 hover:bg-black text-center cursor-pointer"},"Shipped"),l.a.createElement("span",{onClick:e=>Ct("Delivered",0,a,c,n),className:"px-4 py-2 hover:bg-black text-center cursor-pointer"},"Delivered"),l.a.createElement("span",{onClick:e=>Ct("Cancelled",0,a,c,n),className:"px-4 py-2 hover:bg-black text-center cursor-pointer"},"Cancelled"))),l.a.createElement("div",null,l.a.createElement(bt,null))),l.a.createElement(ft,null)))};const Ot=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_URL,St=e=>{let{order:t,editOrder:a}=e;const{dispatch:c}=Object(r.useContext)(It);return l.a.createElement(r.Fragment,null,l.a.createElement("tr",{className:"border-b"},l.a.createElement("td",{className:"w-48 hover:bg-gray-200 p-2 flex flex-col space-y-1"},t.allProduct.map((e,t)=>l.a.createElement("span",{className:"block flex items-center space-x-2",key:t},l.a.createElement("img",{className:"w-8 h-8 object-cover object-center",src:"".concat(Ot,"/uploads/products/").concat(e.id.pImages[0]),alt:"productImage"}),l.a.createElement("span",null,e.id.pName),l.a.createElement("span",null,e.quantitiy,"x")))),l.a.createElement("td",{className:"hover:bg-gray-200 p-2 text-center cursor-default"},"Not processed"===t.status&&l.a.createElement("span",{className:"block text-red-600 rounded-full text-center text-xs px-2 font-semibold"},t.status),"Processing"===t.status&&l.a.createElement("span",{className:"block text-yellow-600 rounded-full text-center text-xs px-2 font-semibold"},t.status),"Shipped"===t.status&&l.a.createElement("span",{className:"block text-blue-600 rounded-full text-center text-xs px-2 font-semibold"},t.status),"Delivered"===t.status&&l.a.createElement("span",{className:"block text-green-600 rounded-full text-center text-xs px-2 font-semibold"},t.status),"Cancelled"===t.status&&l.a.createElement("span",{className:"block text-red-600 rounded-full text-center text-xs px-2 font-semibold"},t.status)),l.a.createElement("td",{className:"hover:bg-gray-200 p-2 text-center"},"$",t.amount,".00"),l.a.createElement("td",{className:"hover:bg-gray-200 p-2 text-center"},t.transactionId),l.a.createElement("td",{className:"hover:bg-gray-200 p-2 text-center"},t.user.name),l.a.createElement("td",{className:"hover:bg-gray-200 p-2 text-center"},t.user.email),l.a.createElement("td",{className:"hover:bg-gray-200 p-2 text-center"},t.phone),l.a.createElement("td",{className:"hover:bg-gray-200 p-2 text-center"},t.address),l.a.createElement("td",{className:"hover:bg-gray-200 p-2 text-center"},x()(t.createdAt).format("lll")),l.a.createElement("td",{className:"hover:bg-gray-200 p-2 text-center"},x()(t.updatedAt).format("lll")),l.a.createElement("td",{className:"p-2 flex items-center justify-center"},l.a.createElement("span",{onClick:e=>a(t._id,!0,t.status),className:"cursor-pointer hover:bg-gray-200 rounded-lg p-2 mx-1"},l.a.createElement("svg",{className:"w-6 h-6 fill-current text-green-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),l.a.createElement("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"}))),l.a.createElement("span",{onClick:e=>kt(t._id,c),className:"cursor-pointer hover:bg-gray-200 rounded-lg p-2 mx-1"},l.a.createElement("svg",{className:"w-6 h-6 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"}))))))};var Pt=e=>{const{data:t,dispatch:a}=Object(r.useContext)(It),{orders:c,loading:n}=t;return Object(r.useEffect)(()=>{Nt(a)},[]),n?l.a.createElement("div",{className:"flex items-center justify-center p-8"},l.a.createElement("svg",{className:"w-12 h-12 animate-spin text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"}))):l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"col-span-1 overflow-auto bg-white shadow-lg p-4"},l.a.createElement("table",{className:"table-auto border w-full my-2"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"px-4 py-2 border"},"Products"),l.a.createElement("th",{className:"px-4 py-2 border"},"Status"),l.a.createElement("th",{className:"px-4 py-2 border"},"Total"),l.a.createElement("th",{className:"px-4 py-2 border"},"Transaction Id"),l.a.createElement("th",{className:"px-4 py-2 border"},"Customer"),l.a.createElement("th",{className:"px-4 py-2 border"},"Email"),l.a.createElement("th",{className:"px-4 py-2 border"},"Phone"),l.a.createElement("th",{className:"px-4 py-2 border"},"Address"),l.a.createElement("th",{className:"px-4 py-2 border"},"Created at"),l.a.createElement("th",{className:"px-4 py-2 border"},"Updated at"),l.a.createElement("th",{className:"px-4 py-2 border"},"Actions"))),l.a.createElement("tbody",null,c&&c.length>0?c.map((e,t)=>l.a.createElement(St,{key:t,order:e,editOrder:(e,t,r)=>((e,t,a,r)=>{t&&(console.log("click update"),r({type:"updateOrderModalOpen",oId:e,status:a}))})(e,t,r,a)})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"12",className:"text-xl text-center font-semibold py-8"},"No order found")))),l.a.createElement("div",{className:"text-sm text-gray-600 mt-2"},"Total ",c&&c.length," order found")))};const Lt={orders:[],addCategoryModal:!1,updateOrderModal:{modal:!1,oId:null,status:""},loading:!1},Mt=(e,t)=>{switch(t.type){case"fetchOrderAndChangeState":return{...e,orders:t.payload};case"addCategoryModal":return{...e,addCategoryModal:t.payload};case"updateOrderModalOpen":return{...e,updateOrderModal:{modal:!0,oId:t.oId,status:t.status}};case"updateOrderModalClose":return{...e,updateOrderModal:{modal:!1,oId:null,status:""}};case"loading":return{...e,loading:t.payload};default:return e}},It=Object(r.createContext)(),Dt=()=>l.a.createElement("div",{className:"grid grid-cols-1 space-y-4 p-4"},l.a.createElement(jt,null),l.a.createElement(Pt,null));var _t=e=>{const[t,a]=Object(r.useReducer)(Mt,Lt);return l.a.createElement(r.Fragment,null,l.a.createElement(It.Provider,{value:{data:t,dispatch:a}},l.a.createElement(Re,{children:l.a.createElement(Dt,null)})))};const Ft=async e=>{e({type:"loading",payload:!0});let t=JSON.parse(localStorage.getItem("jwt"))?JSON.parse(localStorage.getItem("jwt")).user._id:"";try{let a=await(async e=>{try{return(await d.a.post("".concat("http://localhost:8000","/api/user/signle-user"),{uId:e})).data}catch(t){console.log(t)}})(t);setTimeout(()=>{a&&a.User&&(e({type:"userDetails",payload:a.User}),e({type:"loading",payload:!1}))},500)}catch(a){console.log(a)}},At=async e=>{e({type:"loading",payload:!0});let t=JSON.parse(localStorage.getItem("jwt"))?JSON.parse(localStorage.getItem("jwt")).user._id:"";try{let a=await(async e=>{try{return(await d.a.post("".concat("http://localhost:8000","/api/order/order-by-user"),{uId:e})).data}catch(t){console.log(t)}})(t);setTimeout(()=>{a&&a.Order&&(console.log(a),e({type:"OrderByUser",payload:a.Order}),e({type:"loading",payload:!1}))},500)}catch(a){console.log(a)}},Tt=async(e,t)=>{const a={uId:t.id,name:t.name,phoneNumber:t.phone};e({type:"loading",payload:!0});try{let t=await(async e=>{try{return(await d.a.post("".concat("http://localhost:8000","/api/user/edit-user"),e)).data}catch(t){console.log(t)}})(a);setTimeout(()=>{t&&t.success&&(e({type:"loading",payload:!1}),Ft(e))},500)}catch(r){console.log(r)}},Bt=async(e,t,a)=>{if(e.newPassword&&e.oldPassword&&e.confirmPassword)if(e.newPassword!==e.confirmPassword)t({...e,error:"Password does't match"});else{const l={uId:JSON.parse(localStorage.getItem("jwt")).user._id,oldPassword:e.oldPassword,newPassword:e.newPassword};a({type:"loading",payload:!0});try{let r=await(async e=>{try{return(await d.a.post("".concat("http://localhost:8000","/api/user/change-password"),e)).data}catch(t){console.log(t)}})(l);r&&r.success?(t({...e,success:r.success,error:"",oldPassword:"",newPassword:"",confirmPassword:""}),a({type:"loading",payload:!1})):r.error&&(a({type:"loading",payload:!1}),t({...e,error:r.error,success:"",oldPassword:"",newPassword:"",confirmPassword:""}))}catch(r){console.log(r)}}else t({...e,error:"Please provide your all password and a new password"})};var Rt=e=>{const{data:t}=Object(r.useContext)(Ht),a=Object(s.g)(),c=Object(s.h)();return l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"flex flex-col w-full space-y-4 md:w-3/12 font-medium"},l.a.createElement("div",{style:{background:"#303031"},className:"flex items-center space-x-2 rounded shadow p-2 text-gray-100"},l.a.createElement("svg",{className:"cursor-pointer w-16 h-16 text-gray-100",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})),l.a.createElement("div",{className:"flex flex-col w-full"},l.a.createElement("span",{className:"text-sm"},"Hello,"),l.a.createElement("span",{className:"text-lg"},t.userDetails?t.userDetails.name:""))),l.a.createElement("div",{className:"shadow hidden md:block w-full flex flex-col"},l.a.createElement("div",{onClick:e=>a.push("/user/orders"),className:"".concat("/user/orders"===c.pathname?"border-r-4 border-yellow-700 bg-gray-200":"","  px-4 py-4 hover:bg-gray-200 cursor-pointer")},"My Orders"),l.a.createElement("hr",null),l.a.createElement("div",{onClick:e=>a.push("/user/profile"),className:"".concat("/user/profile"===c.pathname?"border-r-4 border-yellow-700 bg-gray-200":"","  px-4 py-4 hover:bg-gray-200 cursor-pointer")},"My Accounts"),l.a.createElement("hr",null),l.a.createElement("div",{onClick:e=>a.push("/wish-list"),className:" px-4 py-4 hover:bg-gray-200 cursor-pointer"},"My Wishlist"),l.a.createElement("hr",null),l.a.createElement("div",{onClick:e=>a.push("/user/setting"),className:"".concat("/user/setting"===c.pathname?"border-r-4 border-yellow-700 bg-gray-200":"","  px-4 py-4 hover:bg-gray-200 cursor-pointer")},"Setting"),l.a.createElement("hr",null),l.a.createElement("div",{onClick:e=>(localStorage.removeItem("jwt"),localStorage.removeItem("cart"),localStorage.removeItem("wishList"),void(window.location.href="/")),className:"".concat("/admin/dashboard/categories"===c.pathname?"border-r-4 border-yellow-700 bg-gray-200":"","  px-4 py-4 hover:bg-gray-200 cursor-pointer")},"Logout"))))};const zt={userDetails:null,loading:!1,OrderByUser:null},Wt=(e,t)=>{switch(t.type){case"userDetails":return{...e,userDetails:t.payload};case"OrderByUser":return{...e,OrderByUser:t.payload};case"loading":return{...e,loading:t.payload};default:return e}},Ht=Object(r.createContext)();var Vt=e=>{let{children:t}=e;const[a,c]=Object(r.useReducer)(Wt,zt);return Object(r.useEffect)(()=>{Ft(c)},[]),l.a.createElement(r.Fragment,null,l.a.createElement(Ht.Provider,{value:{data:a,dispatch:c}},l.a.createElement("div",{className:"flex-grow"},l.a.createElement(u,null),l.a.createElement(k,null),l.a.createElement("div",{className:"mx-4 mt-24 md:mx-12 md:mt-32 lg:mt-24 flex flex-col md:flex-row"},l.a.createElement(Rt,null),t)),l.a.createElement(h,null)))};const Ut=()=>{const{data:e,dispatch:t}=Object(r.useContext)(Ht),a=null!==e.userDetails?e.userDetails:"",[c,n]=Object(r.useState)({id:"",name:"",email:"",phone:"",success:!1});Object(r.useEffect)(()=>{n({...c,id:a._id,name:a.name,email:a.email,phone:a.phoneNumber})},[a]);return e.loading?l.a.createElement("div",{className:"w-full md:w-9/12 flex items-center justify-center "},l.a.createElement("svg",{className:"w-12 h-12 animate-spin text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"}))):l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"flex flex-col w-full my-4 md:my-0 md:w-9/12 md:px-8"},l.a.createElement("div",{className:"shadow-lg border"},l.a.createElement("div",{className:"py-4 px-4 text-lg font-semibold border-t-2 border-yellow-700"},"Personal Information"),l.a.createElement("hr",null),l.a.createElement("div",{className:"py-4 px-4 md:px-8 lg:px-16 flex flex-col space-y-4"},c.success?l.a.createElement("div",{className:"bg-green-200 px-4 py-2 rounded"},c.success):"",l.a.createElement("div",{className:"flex flex-col space-y-2"},l.a.createElement("label",{htmlFor:"name"},"Name"),l.a.createElement("input",{onChange:e=>n({...c,name:e.target.value}),value:c.name,type:"text",id:"name",className:"border px-4 py-2 w-full focus:outline-none"})),l.a.createElement("div",{className:"flex flex-col space-y-2"},l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{value:c.email,readOnly:!0,type:"email",id:"email",className:"cursor-not-allowed border px-4 py-2 bg-gray-200 w-full focus:outline-none focus:cursor-not-allowed"}),l.a.createElement("span",{className:"text-xs text-gray-500"},"You can't change your email")),l.a.createElement("div",{className:"flex flex-col space-y-2"},l.a.createElement("label",{htmlFor:"number"},"Phone Number"),l.a.createElement("input",{onChange:e=>n({...c,phone:e.target.value}),value:c.phone,type:"number",id:"number",className:"border px-4 py-2 w-full focus:outline-none"})),l.a.createElement("div",{onClick:e=>{Tt(t,c)},style:{background:"#303031"},className:"w-full text-center cursor-pointer px-4 py-2 text-gray-100"},"Update Information")))))};var Jt=e=>l.a.createElement(r.Fragment,null,l.a.createElement(Vt,{children:l.a.createElement(Ut,null)}));const Qt=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_URL,Kt=()=>l.a.createElement(r.Fragment,null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"px-4 py-2 border"},"Products"),l.a.createElement("th",{className:"px-4 py-2 border"},"Status"),l.a.createElement("th",{className:"px-4 py-2 border"},"Total"),l.a.createElement("th",{className:"px-4 py-2 border"},"Phone"),l.a.createElement("th",{className:"px-4 py-2 border"},"Address"),l.a.createElement("th",{className:"px-4 py-2 border"},"Transaction Id"),l.a.createElement("th",{className:"px-4 py-2 border"},"Checkout"),l.a.createElement("th",{className:"px-4 py-2 border"},"Processing")))),qt=e=>{let{order:t}=e;return l.a.createElement(r.Fragment,null,l.a.createElement("tr",{className:"border-b"},l.a.createElement("td",{className:"w-48 hover:bg-gray-200 p-2 flex flex-col space-y-1"},t.allProduct.map((e,t)=>l.a.createElement("span",{className:"block flex items-center space-x-2",key:t},l.a.createElement("img",{className:"w-8 h-8 object-cover object-center",src:"".concat(Qt,"/uploads/products/").concat(e.id.pImages[0]),alt:"productImage"}),l.a.createElement("span",null,e.id.pName),l.a.createElement("span",null,e.quantitiy,"x")))),l.a.createElement("td",{className:"hover:bg-gray-200 p-2 text-center cursor-default"},"Not processed"===t.status&&l.a.createElement("span",{className:"block text-red-600 rounded-full text-center text-xs px-2 font-semibold"},t.status),"Processing"===t.status&&l.a.createElement("span",{className:"block text-yellow-600 rounded-full text-center text-xs px-2 font-semibold"},t.status),"Shipped"===t.status&&l.a.createElement("span",{className:"block text-blue-600 rounded-full text-center text-xs px-2 font-semibold"},t.status),"Delivered"===t.status&&l.a.createElement("span",{className:"block text-green-600 rounded-full text-center text-xs px-2 font-semibold"},t.status),"Cancelled"===t.status&&l.a.createElement("span",{className:"block text-red-600 rounded-full text-center text-xs px-2 font-semibold"},t.status)),l.a.createElement("td",{className:"hover:bg-gray-200 p-2 text-center"},"$",t.amount,".00"),l.a.createElement("td",{className:"hover:bg-gray-200 p-2 text-center"},t.phone),l.a.createElement("td",{className:"hover:bg-gray-200 p-2 text-center"},t.address),l.a.createElement("td",{className:"hover:bg-gray-200 p-2 text-center"},t.transactionId),l.a.createElement("td",{className:"hover:bg-gray-200 p-2 text-center"},x()(t.createdAt).format("lll")),l.a.createElement("td",{className:"hover:bg-gray-200 p-2 text-center"},x()(t.updatedAt).format("lll"))))},Yt=()=>{const{data:e,dispatch:t}=Object(r.useContext)(Ht),{OrderByUser:a}=e;return Object(r.useEffect)(()=>{At(t)},[]),e.loading?l.a.createElement("div",{className:"w-full md:w-9/12 flex items-center justify-center py-24"},l.a.createElement("svg",{className:"w-12 h-12 animate-spin text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"}))):l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"flex flex-col w-full my-4 md:my-0 md:w-9/12 md:px-8"},l.a.createElement("div",{className:"border"},l.a.createElement("div",{className:"py-4 px-4 text-lg font-semibold border-t-2 border-yellow-700"},"Orders"),l.a.createElement("hr",null),l.a.createElement("div",{className:"overflow-auto bg-white shadow-lg p-4"},l.a.createElement("table",{className:"table-auto border w-full my-2"},l.a.createElement(Kt,null),l.a.createElement("tbody",null,a&&a.length>0?a.map((e,t)=>l.a.createElement(qt,{key:t,order:e})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"8",className:"text-xl text-center font-semibold py-8"},"No order found")))),l.a.createElement("div",{className:"text-sm text-gray-600 mt-2"},"Total ",a&&a.length," order found")))))};var $t=e=>l.a.createElement(r.Fragment,null,l.a.createElement(Vt,{children:l.a.createElement(Yt,null)}));const Gt=()=>{const{data:e,dispatch:t}=Object(r.useContext)(Ht),[a,c]=Object(r.useState)({oldPassword:"",newPassword:"",confirmPassword:"",success:!1,error:!1,passwordView:!1,type:"password"});return(a.success||a.error)&&setTimeout(()=>{c({...a,success:!1,error:!1})},1500),e.loading?l.a.createElement("div",{className:"w-full md:w-9/12 flex items-center justify-center "},l.a.createElement("svg",{className:"w-12 h-12 animate-spin text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"}))):l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"flex flex-col w-full my-4 md:my-0 md:w-9/12 md:px-8"},l.a.createElement("div",{className:"shadow-lg border"},l.a.createElement("div",{className:"py-4 px-4 text-lg font-semibold border-t-2 border-yellow-700"},"Change Password"),l.a.createElement("hr",null),l.a.createElement("div",{className:"py-4 px-4 md:px-8 lg:px-16 flex flex-col space-y-4"},a.success?l.a.createElement("div",{className:"bg-green-200 px-4 py-2 rounded"},a.success):"",a.error?l.a.createElement("div",{className:"bg-red-200 px-4 py-2 rounded"},a.error):"",l.a.createElement("div",{className:"flex flex-col space-y-2"},l.a.createElement("label",{htmlFor:"oldPassword"},"Old Password"),l.a.createElement("div",{className:"relative"},l.a.createElement("input",{onChange:e=>c({...a,oldPassword:e.target.value}),value:a.oldPassword,type:a.type,id:"oldPassword",className:"z-10 border px-4 py-2 w-full focus:outline-none"}),l.a.createElement("span",{onClick:e=>c({...a,passwordView:!1,type:"password"}),className:"".concat(a.passwordView?"":"hidden"," absolute right-0 m-2 box-border cursor-pointer")},l.a.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"}))),l.a.createElement("span",{onClick:e=>c({...a,passwordView:!0,type:"text"}),className:"".concat(a.passwordView?"hidden":""," absolute right-0 m-2 box-border cursor-pointer")},l.a.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"}))))),l.a.createElement("div",{className:"flex flex-col space-y-2"},l.a.createElement("label",{htmlFor:"newPassword"},"New Password"),l.a.createElement("input",{onChange:e=>c({...a,newPassword:e.target.value}),value:a.newPassword,type:"password",id:"newPassword",className:"border px-4 py-2 w-full focus:outline-none"})),l.a.createElement("div",{className:"flex flex-col space-y-2"},l.a.createElement("label",{htmlFor:"confirmPassword"},"Confirm Password"),l.a.createElement("input",{onChange:e=>c({...a,confirmPassword:e.target.value}),value:a.confirmPassword,type:"password",id:"confirmPassword",className:"border px-4 py-2 w-full focus:outline-none"})),l.a.createElement("div",{onClick:e=>Bt(a,c,t),style:{background:"#303031"},className:"w-full text-center cursor-pointer px-4 py-2 text-gray-100"},"Change password")))))};var Xt=e=>l.a.createElement(r.Fragment,null,l.a.createElement(Vt,{children:l.a.createElement(Gt,null)})),Zt=a(4);var ea=e=>l.a.createElement(Zt.a,null,l.a.createElement(s.d,null,l.a.createElement(s.b,{exact:!0,path:"/",component:Z}),l.a.createElement(s.b,{exact:!0,path:"/wish-list",component:le}),l.a.createElement(s.b,{exact:!0,path:"/products/:id",component:Se}),l.a.createElement(s.b,{exact:!0,path:"/products/category/:catId",component:Ie}),l.a.createElement(se,{exact:!0,path:"/checkout",component:Fe}),l.a.createElement(ne,{exact:!0,path:"/admin/dashboard",component:Xe}),l.a.createElement(ne,{exact:!0,path:"/admin/dashboard/categories",component:ot}),l.a.createElement(ne,{exact:!0,path:"/admin/dashboard/products",component:vt}),l.a.createElement(ne,{exact:!0,path:"/admin/dashboard/orders",component:_t}),l.a.createElement(ce,{exact:!0,path:"/user/profile",component:Jt}),l.a.createElement(ce,{exact:!0,path:"/user/orders",component:$t}),l.a.createElement(ce,{exact:!0,path:"/user/setting",component:Xt}),l.a.createElement(s.b,{component:ie})));var ta=function(){const[e,t]=Object(r.useReducer)(me,oe);return l.a.createElement(r.Fragment,null,l.a.createElement(S.Provider,{value:{data:e,dispatch:t}},l.a.createElement(ea,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(ta,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()}).catch(e=>{console.error(e.message)})}},[[25,1,2]]]);
//# sourceMappingURL=main.c5f66581.chunk.js.map